var Zt=Object.defineProperty;var Ht=m=>{throw TypeError(m)};var Qt=(m,t,s)=>t in m?Zt(m,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[t]=s;var gt=(m,t,s)=>Qt(m,typeof t!="symbol"?t+"":t,s),jt=(m,t,s)=>t.has(m)||Ht("Cannot "+s);var A=(m,t,s)=>(jt(m,t,"read from private field"),s?s.call(m):t.get(m)),U=(m,t,s)=>t.has(m)?Ht("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(m):t.set(m,s),P=(m,t,s,r)=>(jt(m,t,"write to private field"),r?r.call(m,s):t.set(m,s),s);import{r as te}from"./phaser-BA8NYTic.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();var z=te(),I={},yt={};/*! For license information please see index.js.LICENSE.txt */var ee={218:m=>{var t=1e3,s=60*t,r=60*s,e=24*r;function n(a,c,p){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+p:Math.ceil(a/c)+" "+p+"s"}m.exports=function(a,c){c=c||{};var p,f=typeof a;if(f==="string"&&a.length>0)return function(u){if(!((u=String(u)).length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(l){var o=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*e;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*s;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(a);if(f==="number"&&isNaN(a)===!1)return c.long?n(p=a,e,"day")||n(p,r,"hour")||n(p,s,"minute")||n(p,t,"second")||p+" ms":function(u){return u>=e?Math.round(u/e)+"d":u>=r?Math.round(u/r)+"h":u>=s?Math.round(u/s)+"m":u>=t?Math.round(u/t)+"s":u+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},736:(m,t,s)=>{m.exports=function(r){function e(c){let p,f,u,l=null;function o(...i){if(!o.enabled)return;const h=o,_=Number(new Date),g=_-(p||_);h.diff=g,h.prev=p,h.curr=_,p=_,i[0]=e.coerce(i[0]),typeof i[0]!="string"&&i.unshift("%O");let y=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(v,C)=>{if(v==="%%")return"%";y++;const b=e.formatters[C];if(typeof b=="function"){const T=i[y];v=b.call(h,T),i.splice(y,1),y--}return v}),e.formatArgs.call(h,i),(h.log||e.log).apply(h,i)}return o.namespace=c,o.useColors=e.useColors(),o.color=e.selectColor(c),o.extend=n,o.destroy=e.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(f!==e.namespaces&&(f=e.namespaces,u=e.enabled(c)),u),set:i=>{l=i}}),typeof e.init=="function"&&e.init(o),o}function n(c,p){const f=e(this.namespace+(p===void 0?":":p)+c);return f.log=this.log,f}function a(c,p){let f=0,u=0,l=-1,o=0;for(;f<c.length;)if(u<p.length&&(p[u]===c[f]||p[u]==="*"))p[u]==="*"?(l=u,o=f,u++):(f++,u++);else{if(l===-1)return!1;u=l+1,o++,f=o}for(;u<p.length&&p[u]==="*";)u++;return u===p.length}return e.debug=e,e.default=e,e.coerce=function(c){return c instanceof Error?c.stack||c.message:c},e.disable=function(){const c=[...e.names,...e.skips.map(p=>"-"+p)].join(",");return e.enable(""),c},e.enable=function(c){e.save(c),e.namespaces=c,e.names=[],e.skips=[];const p=(typeof c=="string"?c:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const f of p)f[0]==="-"?e.skips.push(f.slice(1)):e.names.push(f)},e.enabled=function(c){for(const p of e.skips)if(a(c,p))return!1;for(const p of e.names)if(a(c,p))return!0;return!1},e.humanize=s(6585),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(c=>{e[c]=r[c]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(c){let p=0;for(let f=0;f<c.length;f++)p=(p<<5)-p+c.charCodeAt(f),p|=0;return e.colors[Math.abs(p)%e.colors.length]},e.enable(e.load()),e}},852:(m,t,s)=>{function r(){var e;try{e=t.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=yt.DEBUG),e}(t=m.exports=s(1175)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var c=0,p=0;e[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(c++,f==="%c"&&(p=c))}),e.splice(p,0,a)}},t.save=function(e){try{e==null?t.storage.removeItem("debug"):t.storage.debug=e}catch{}},t.load=r,t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},t.enable(r())},969:m=>{function t(){}m.exports=function(s,r,e){var n=!1;return e=e||t,a.count=s,s===0?r():a;function a(c,p){if(a.count<=0)throw new Error("after called too many times");--a.count,c?(n=!0,r(c),r=e):a.count!==0||n||r(null,p)}}},1175:(m,t,s)=>{function r(n){var a;function c(){if(c.enabled){var p=c,f=+new Date,u=f-(a||f);p.diff=u,p.prev=a,p.curr=f,a=f;for(var l=new Array(arguments.length),o=0;o<l.length;o++)l[o]=arguments[o];l[0]=t.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");var i=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(h,_){if(h==="%%")return h;i++;var g=t.formatters[_];if(typeof g=="function"){var y=l[i];h=g.call(p,y),l.splice(i,1),i--}return h}),t.formatArgs.call(p,l),(c.log||t.log||console.log.bind(console)).apply(p,l)}}return c.namespace=n,c.enabled=t.enabled(n),c.useColors=t.useColors(),c.color=function(p){var f,u=0;for(f in p)u=(u<<5)-u+p.charCodeAt(f),u|=0;return t.colors[Math.abs(u)%t.colors.length]}(n),c.destroy=e,typeof t.init=="function"&&t.init(c),t.instances.push(c),c}function e(){var n=t.instances.indexOf(this);return n!==-1&&(t.instances.splice(n,1),!0)}(t=m.exports=r.debug=r.default=r).coerce=function(n){return n instanceof Error?n.stack||n.message:n},t.disable=function(){t.enable("")},t.enable=function(n){var a;t.save(n),t.names=[],t.skips=[];var c=(typeof n=="string"?n:"").split(/[\s,]+/),p=c.length;for(a=0;a<p;a++)c[a]&&((n=c[a].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+n.substr(1)+"$")):t.names.push(new RegExp("^"+n+"$")));for(a=0;a<t.instances.length;a++){var f=t.instances[a];f.enabled=t.enabled(f.namespace)}},t.enabled=function(n){if(n[n.length-1]==="*")return!0;var a,c;for(a=0,c=t.skips.length;a<c;a++)if(t.skips[a].test(n))return!1;for(a=0,c=t.names.length;a<c;a++)if(t.names[a].test(n))return!0;return!1},t.humanize=s(218),t.instances=[],t.names=[],t.skips=[],t.formatters={}},2121:m=>{var t,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},e=0,n=0;function a(p){var f="";do f=s[p%64]+f,p=Math.floor(p/64);while(p>0);return f}function c(){var p=a(+new Date);return p!==t?(e=0,t=p):p+"."+a(e++)}for(;n<64;n++)r[s[n]]=n;c.encode=a,c.decode=function(p){var f=0;for(n=0;n<p.length;n++)f=64*f+r[p.charAt(n)];return f},m.exports=c},2225:(m,t,s)=>{var r=s(4634),e=s(8247),n=Object.prototype.toString,a=typeof I.Blob=="function"||n.call(I.Blob)==="[object BlobConstructor]",c=typeof I.File=="function"||n.call(I.File)==="[object FileConstructor]";function p(u,l){if(!u)return u;if(e(u)){var o={_placeholder:!0,num:l.length};return l.push(u),o}if(r(u)){for(var i=new Array(u.length),h=0;h<u.length;h++)i[h]=p(u[h],l);return i}if(typeof u=="object"&&!(u instanceof Date)){for(var _ in i={},u)i[_]=p(u[_],l);return i}return u}function f(u,l){if(!u)return u;if(u&&u._placeholder)return l[u.num];if(r(u))for(var o=0;o<u.length;o++)u[o]=f(u[o],l);else if(typeof u=="object")for(var i in u)u[i]=f(u[i],l);return u}t.deconstructPacket=function(u){var l=[],o=u.data,i=u;return i.data=p(o,l),i.attachments=l.length,{packet:i,buffers:l}},t.reconstructPacket=function(u,l){return u.data=f(u.data,l),u.attachments=void 0,u},t.removeBlobs=function(u,l){var o=0,i=u;(function h(_,g,y){if(!_)return _;if(a&&_ instanceof Blob||c&&_ instanceof File){o++;var v=new FileReader;v.onload=function(){y?y[g]=this.result:i=this.result,--o||l(i)},v.readAsArrayBuffer(_)}else if(r(_))for(var C=0;C<_.length;C++)h(_[C],C,_);else if(typeof _=="object"&&!e(_))for(var b in _)h(_[b],b,_)})(i),o||l(i)}},2252:(m,t,s)=>{var r=s(5911),e=s(2370);m.exports=f;var n,a=/\n/g,c=/\\n/g;function p(){}function f(u){r.call(this,u),this.query=this.query||{},n||(I.___eio||(I.___eio=[]),n=I.___eio),this.index=n.length;var l=this;n.push(function(o){l.onData(o)}),this.query.j=this.index,I.document&&I.addEventListener&&I.addEventListener("beforeunload",function(){l.script&&(l.script.onerror=p)},!1)}e(f,r),f.prototype.supportsBinary=!1,f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},f.prototype.doPoll=function(){var u=this,l=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),l.async=!0,l.src=this.uri(),l.onerror=function(i){u.onError("jsonp poll error",i)};var o=document.getElementsByTagName("script")[0];o?o.parentNode.insertBefore(l,o):(document.head||document.body).appendChild(l),this.script=l,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)},f.prototype.doWrite=function(u,l){var o=this;if(!this.form){var i,h=document.createElement("form"),_=document.createElement("textarea"),g=this.iframeId="eio_iframe_"+this.index;h.className="socketio",h.style.position="absolute",h.style.top="-1000px",h.style.left="-1000px",h.target=g,h.method="POST",h.setAttribute("accept-charset","utf-8"),_.name="d",h.appendChild(_),document.body.appendChild(h),this.form=h,this.area=_}function y(){v(),l()}function v(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(b){o.onError("jsonp polling iframe removal error",b)}try{var C='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(C)}catch{(i=document.createElement("iframe")).name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}this.form.action=this.uri(),v(),u=u.replace(c,`\\
`),this.area.value=u.replace(a,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){o.iframe.readyState==="complete"&&y()}:this.iframe.onload=y}},2370:m=>{m.exports=function(t,s){var r=function(){};r.prototype=s.prototype,t.prototype=new r,t.prototype.constructor=t}},2505:m=>{m.exports=Object.keys||function(t){var s=[],r=Object.prototype.hasOwnProperty;for(var e in t)r.call(t,e)&&s.push(e);return s}},2672:(m,t,s)=>{var r=s(3401),e=s(5971);function n(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.forceNode=a.forceNode,this.extraHeaders=a.extraHeaders,this.localAddress=a.localAddress}m.exports=n,e(n.prototype),n.prototype.onError=function(a,c){var p=new Error(a);return p.type="TransportError",p.description=c,this.emit("error",p),this},n.prototype.open=function(){return this.readyState!=="closed"&&this.readyState!==""||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this},n.prototype.send=function(a){if(this.readyState!=="open")throw new Error("Transport not open");this.write(a)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(a){var c=r.decodePacket(a,this.socket.binaryType);this.onPacket(c)},n.prototype.onPacket=function(a){this.emit("packet",a)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},2902:m=>{var t=1e3,s=60*t,r=60*s,e=24*r;function n(a,c,p){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+p:Math.ceil(a/c)+" "+p+"s"}m.exports=function(a,c){c=c||{};var p,f=typeof a;if(f==="string"&&a.length>0)return function(u){if(!((u=String(u)).length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(l){var o=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*e;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*s;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(a);if(f==="number"&&isNaN(a)===!1)return c.long?n(p=a,e,"day")||n(p,r,"hour")||n(p,s,"minute")||n(p,t,"second")||p+" ms":function(u){return u>=e?Math.round(u/e)+"d":u>=r?Math.round(u/r)+"h":u>=s?Math.round(u/s)+"m":u>=t?Math.round(u/t)+"s":u+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},3051:(m,t,s)=>{var r=s(8383);m.exports=function(e){var n=e.xdomain,a=e.xscheme,c=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!n||r))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!a&&c)return new XDomainRequest}catch{}if(!n)try{return new I[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}},3059:m=>{function t(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}m.exports=t,t.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*s);s=1&Math.floor(10*r)?s+e:s-e}return 0|Math.min(s,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(s){this.ms=s},t.prototype.setMax=function(s){this.max=s},t.prototype.setJitter=function(s){this.jitter=s}},3097:m=>{var t=1e3,s=60*t,r=60*s,e=24*r;function n(a,c,p){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+p:Math.ceil(a/c)+" "+p+"s"}m.exports=function(a,c){c=c||{};var p,f=typeof a;if(f==="string"&&a.length>0)return function(u){if(!((u=String(u)).length>100)){var l=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(l){var o=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*e;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*s;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(a);if(f==="number"&&isNaN(a)===!1)return c.long?n(p=a,e,"day")||n(p,r,"hour")||n(p,s,"minute")||n(p,t,"second")||p+" ms":function(u){return u>=e?Math.round(u/e)+"d":u>=r?Math.round(u/r)+"h":u>=s?Math.round(u/s)+"m":u>=t?Math.round(u/t)+"s":u+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},3118:m=>{var t=t!==void 0?t:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"&&MozBlobBuilder,s=function(){try{return new Blob(["hi"]).size===2}catch{return!1}}(),r=s&&function(){try{return new Blob([new Uint8Array([1,2])]).size===2}catch{return!1}}(),e=t&&t.prototype.append&&t.prototype.getBlob;function n(p){return p.map(function(f){if(f.buffer instanceof ArrayBuffer){var u=f.buffer;if(f.byteLength!==u.byteLength){var l=new Uint8Array(f.byteLength);l.set(new Uint8Array(u,f.byteOffset,f.byteLength)),u=l.buffer}return u}return f})}function a(p,f){f=f||{};var u=new t;return n(p).forEach(function(l){u.append(l)}),f.type?u.getBlob(f.type):u.getBlob()}function c(p,f){return new Blob(n(p),f||{})}typeof Blob<"u"&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),m.exports=s?r?Blob:c:e?a:void 0},3344:m=>{m.exports=function(t,s,r){var e=t.byteLength;if(s=s||0,r=r||e,t.slice)return t.slice(s,r);if(s<0&&(s+=e),r<0&&(r+=e),r>e&&(r=e),s>=e||s>=r||e===0)return new ArrayBuffer(0);for(var n=new Uint8Array(t),a=new Uint8Array(r-s),c=s,p=0;c<r;c++,p++)a[p]=n[c];return a.buffer}},3357:(m,t,s)=>{m.exports=s(7292),m.exports.parser=s(3401)},3371:(m,t)=>{(function(){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),e=0;e<64;e++)r[s.charCodeAt(e)]=e;t.encode=function(n){var a,c=new Uint8Array(n),p=c.length,f="";for(a=0;a<p;a+=3)f+=s[c[a]>>2],f+=s[(3&c[a])<<4|c[a+1]>>4],f+=s[(15&c[a+1])<<2|c[a+2]>>6],f+=s[63&c[a+2]];return p%3==2?f=f.substring(0,f.length-1)+"=":p%3==1&&(f=f.substring(0,f.length-2)+"=="),f},t.decode=function(n){var a,c,p,f,u,l=.75*n.length,o=n.length,i=0;n[n.length-1]==="="&&(l--,n[n.length-2]==="="&&l--);var h=new ArrayBuffer(l),_=new Uint8Array(h);for(a=0;a<o;a+=4)c=r[n.charCodeAt(a)],p=r[n.charCodeAt(a+1)],f=r[n.charCodeAt(a+2)],u=r[n.charCodeAt(a+3)],_[i++]=c<<2|p>>4,_[i++]=(15&p)<<4|f>>2,_[i++]=(3&f)<<6|63&u;return h}})()},3401:(m,t,s)=>{var r,e=s(2505),n=s(8839),a=s(3344),c=s(969),p=s(8758);typeof ArrayBuffer<"u"&&(r=s(3371));var f=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),u=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),l=f||u;t.protocol=3;var o=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},i=e(o),h={type:"error",data:"parser error"},_=s(3118);function g(y,v,C){for(var b=new Array(y.length),T=c(y.length,C),S=function(w,E,F){v(E,function(O,M){b[w]=M,F(O,b)})},x=0;x<y.length;x++)S(x,y[x],T)}t.encodePacket=function(y,v,C,b){typeof v=="function"&&(b=v,v=!1),typeof C=="function"&&(b=C,C=null);var T=y.data===void 0?void 0:y.data.buffer||y.data;if(typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer)return function(x,w,E){if(!w)return t.encodeBase64Packet(x,E);var F=x.data,O=new Uint8Array(F),M=new Uint8Array(1+F.byteLength);M[0]=o[x.type];for(var D=0;D<O.length;D++)M[D+1]=O[D];return E(M.buffer)}(y,v,b);if(_!==void 0&&T instanceof _)return function(x,w,E){if(!w)return t.encodeBase64Packet(x,E);if(l)return function(O,M,D){if(!M)return t.encodeBase64Packet(O,D);var L=new FileReader;return L.onload=function(){t.encodePacket({type:O.type,data:L.result},M,!0,D)},L.readAsArrayBuffer(O.data)}(x,w,E);var F=new Uint8Array(1);return F[0]=o[x.type],E(new _([F.buffer,x.data]))}(y,v,b);if(T&&T.base64)return function(x,w){return w("b"+t.packets[x.type]+x.data.data)}(y,b);var S=o[y.type];return y.data!==void 0&&(S+=C?p.encode(String(y.data),{strict:!1}):String(y.data)),b(""+S)},t.encodeBase64Packet=function(y,v){var C,b="b"+t.packets[y.type];if(_!==void 0&&y.data instanceof _){var T=new FileReader;return T.onload=function(){var E=T.result.split(",")[1];v(b+E)},T.readAsDataURL(y.data)}try{C=String.fromCharCode.apply(null,new Uint8Array(y.data))}catch{for(var S=new Uint8Array(y.data),x=new Array(S.length),w=0;w<S.length;w++)x[w]=S[w];C=String.fromCharCode.apply(null,x)}return b+=btoa(C),v(b)},t.decodePacket=function(y,v,C){if(y===void 0)return h;if(typeof y=="string"){if(y.charAt(0)==="b")return t.decodeBase64Packet(y.substr(1),v);if(C&&(y=function(S){try{S=p.decode(S,{strict:!1})}catch{return!1}return S}(y))===!1)return h;var b=y.charAt(0);return Number(b)==b&&i[b]?y.length>1?{type:i[b],data:y.substring(1)}:{type:i[b]}:h}b=new Uint8Array(y)[0];var T=a(y,1);return _&&v==="blob"&&(T=new _([T])),{type:i[b],data:T}},t.decodeBase64Packet=function(y,v){var C=i[y.charAt(0)];if(!r)return{type:C,data:{base64:!0,data:y.substr(1)}};var b=r.decode(y.substr(1));return v==="blob"&&_&&(b=new _([b])),{type:C,data:b}},t.encodePayload=function(y,v,C){typeof v=="function"&&(C=v,v=null);var b=n(y);return v&&b?_&&!l?t.encodePayloadAsBlob(y,C):t.encodePayloadAsArrayBuffer(y,C):y.length?void g(y,function(T,S){t.encodePacket(T,!!b&&v,!1,function(x){S(null,function(w){return w.length+":"+w}(x))})},function(T,S){return C(S.join(""))}):C("0:")},t.decodePayload=function(y,v,C){if(typeof y!="string")return t.decodePayloadAsBinary(y,v,C);var b;if(typeof v=="function"&&(C=v,v=null),y==="")return C(h,0,1);for(var T,S,x="",w=0,E=y.length;w<E;w++){var F=y.charAt(w);if(F===":"){if(x===""||x!=(T=Number(x))||x!=(S=y.substr(w+1,T)).length)return C(h,0,1);if(S.length){if(b=t.decodePacket(S,v,!1),h.type===b.type&&h.data===b.data)return C(h,0,1);if(C(b,w+T,E)===!1)return}w+=T,x=""}else x+=F}return x!==""?C(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(y,v){if(!y.length)return v(new ArrayBuffer(0));g(y,function(C,b){t.encodePacket(C,!0,!0,function(T){return b(null,T)})},function(C,b){var T=b.reduce(function(w,E){var F;return w+(F=typeof E=="string"?E.length:E.byteLength).toString().length+F+2},0),S=new Uint8Array(T),x=0;return b.forEach(function(w){var E=typeof w=="string",F=w;if(E){for(var O=new Uint8Array(w.length),M=0;M<w.length;M++)O[M]=w.charCodeAt(M);F=O.buffer}S[x++]=E?0:1;var D=F.byteLength.toString();for(M=0;M<D.length;M++)S[x++]=parseInt(D[M]);for(S[x++]=255,O=new Uint8Array(F),M=0;M<O.length;M++)S[x++]=O[M]}),v(S.buffer)})},t.encodePayloadAsBlob=function(y,v){g(y,function(C,b){t.encodePacket(C,!0,!0,function(T){var S=new Uint8Array(1);if(S[0]=1,typeof T=="string"){for(var x=new Uint8Array(T.length),w=0;w<T.length;w++)x[w]=T.charCodeAt(w);T=x.buffer,S[0]=0}var E=(T instanceof ArrayBuffer?T.byteLength:T.size).toString(),F=new Uint8Array(E.length+1);for(w=0;w<E.length;w++)F[w]=parseInt(E[w]);if(F[E.length]=255,_){var O=new _([S.buffer,F.buffer,T]);b(null,O)}})},function(C,b){return v(new _(b))})},t.decodePayloadAsBinary=function(y,v,C){typeof v=="function"&&(C=v,v=null);for(var b=y,T=[];b.byteLength>0;){for(var S=new Uint8Array(b),x=S[0]===0,w="",E=1;S[E]!==255;E++){if(w.length>310)return C(h,0,1);w+=S[E]}b=a(b,2+w.length),w=parseInt(w);var F=a(b,0,w);if(x)try{F=String.fromCharCode.apply(null,new Uint8Array(F))}catch{var O=new Uint8Array(F);for(F="",E=0;E<O.length;E++)F+=String.fromCharCode(O[E])}T.push(F),b=a(b,w)}var M=T.length;T.forEach(function(D,L){C(t.decodePacket(D,v,!0),L,M)})}},4258:m=>{var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];m.exports=function(r){var e=r,n=r.indexOf("["),a=r.indexOf("]");n!=-1&&a!=-1&&(r=r.substring(0,n)+r.substring(n,a).replace(/:/g,";")+r.substring(a,r.length));for(var c=t.exec(r||""),p={},f=14;f--;)p[s[f]]=c[f]||"";return n!=-1&&a!=-1&&(p.source=e,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p}},4634:m=>{var t={}.toString;m.exports=Array.isArray||function(s){return t.call(s)=="[object Array]"}},4745:m=>{m.exports=function(t,s,r){return t.on(s,r),{destroy:function(){t.removeListener(s,r)}}}},5074:(m,t,s)=>{var r=s(852)("socket.io-parser"),e=s(5971),n=s(8839),a=s(2225),c=s(4634),p=s(8247);function f(){}function u(h){var _=""+h.type;return t.BINARY_EVENT!==h.type&&t.BINARY_ACK!==h.type||(_+=h.attachments+"-"),h.nsp&&h.nsp!=="/"&&(_+=h.nsp+","),h.id!=null&&(_+=h.id),h.data!=null&&(_+=JSON.stringify(h.data)),r("encoded %j as %s",h,_),_}function l(){this.reconstructor=null}function o(h){this.reconPack=h,this.buffers=[]}function i(h){return{type:t.ERROR,data:"parser error: "+h}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=f,t.Decoder=l,f.prototype.encode=function(h,_){h.type!==t.EVENT&&h.type!==t.ACK||!n(h.data)||(h.type=h.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),r("encoding packet %j",h),t.BINARY_EVENT===h.type||t.BINARY_ACK===h.type?function(g,y){a.removeBlobs(g,function(v){var C=a.deconstructPacket(v),b=u(C.packet),T=C.buffers;T.unshift(b),y(T)})}(h,_):_([u(h)])},e(l.prototype),l.prototype.add=function(h){var _;if(typeof h=="string")_=function(g){var y=0,v={type:Number(g.charAt(0))};if(t.types[v.type]==null)return i("unknown packet type "+v.type);if(t.BINARY_EVENT===v.type||t.BINARY_ACK===v.type){for(var C="";g.charAt(++y)!=="-"&&(C+=g.charAt(y),y!=g.length););if(C!=Number(C)||g.charAt(y)!=="-")throw new Error("Illegal attachments");v.attachments=Number(C)}if(g.charAt(y+1)==="/")for(v.nsp="";++y&&(T=g.charAt(y))!==","&&(v.nsp+=T,y!==g.length););else v.nsp="/";var b=g.charAt(y+1);if(b!==""&&Number(b)==b){for(v.id="";++y;){var T;if((T=g.charAt(y))==null||Number(T)!=T){--y;break}if(v.id+=g.charAt(y),y===g.length)break}v.id=Number(v.id)}if(g.charAt(++y)){var S=function(x){try{return JSON.parse(x)}catch{return!1}}(g.substr(y));if(S===!1||v.type!==t.ERROR&&!c(S))return i("invalid payload");v.data=S}return r("decoded %s as %j",g,v),v}(h),t.BINARY_EVENT===_.type||t.BINARY_ACK===_.type?(this.reconstructor=new o(_),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",_)):this.emit("decoded",_);else{if(!p(h)&&!h.base64)throw new Error("Unknown type: "+h);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(_=this.reconstructor.takeBinaryData(h))&&(this.reconstructor=null,this.emit("decoded",_))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},o.prototype.takeBinaryData=function(h){if(this.buffers.push(h),this.buffers.length===this.reconPack.attachments){var _=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null},o.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},5660:()=>{},5911:(m,t,s)=>{var r=s(2672),e=s(9140),n=s(3401),a=s(2370),c=s(2121),p=s(6617)("engine.io-client:polling");m.exports=u;var f=new(s(3051))({xdomain:!1}).responseType!=null;function u(l){var o=l&&l.forceBase64;f&&!o||(this.supportsBinary=!1),r.call(this,l)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(l){var o=this;function i(){p("paused"),o.readyState="paused",l()}if(this.readyState="pausing",this.polling||!this.writable){var h=0;this.polling&&(p("we are currently polling - waiting to pause"),h++,this.once("pollComplete",function(){p("pre-pause polling complete"),--h||i()})),this.writable||(p("we are currently writing - waiting to pause"),h++,this.once("drain",function(){p("pre-pause writing complete"),--h||i()}))}else i()},u.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(l){var o=this;p("polling got data %s",l),n.decodePayload(l,this.socket.binaryType,function(i,h,_){if(o.readyState==="opening"&&o.onOpen(),i.type==="close")return o.onClose(),!1;o.onPacket(i)}),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var l=this;function o(){p("writing close packet"),l.write([{type:"close"}])}this.readyState==="open"?(p("transport open - closing"),o()):(p("transport not open - deferring close"),this.once("open",o))},u.prototype.write=function(l){var o=this;this.writable=!1;var i=function(){o.writable=!0,o.emit("drain")};n.encodePayload(l,this.supportsBinary,function(h){o.doWrite(h,i)})},u.prototype.uri=function(){var l=this.query||{},o=this.secure?"https":"http",i="";return this.timestampRequests!==!1&&(l[this.timestampParam]=c()),this.supportsBinary||l.sid||(l.b64=1),l=e.encode(l),this.port&&(o==="https"&&Number(this.port)!==443||o==="http"&&Number(this.port)!==80)&&(i=":"+this.port),l.length&&(l="?"+l),o+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+i+this.path+l}},5971:m=>{function t(s){if(s)return function(r){for(var e in t.prototype)r[e]=t.prototype[e];return r}(s)}m.exports=t,t.prototype.on=t.prototype.addEventListener=function(s,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(r),this},t.prototype.once=function(s,r){function e(){this.off(s,e),r.apply(this,arguments)}return e.fn=r,this.on(s,e),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(s,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e,n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var a=0;a<n.length;a++)if((e=n[a])===r||e.fn===r){n.splice(a,1);break}return this},t.prototype.emit=function(s){this._callbacks=this._callbacks||{};var r=[].slice.call(arguments,1),e=this._callbacks["$"+s];if(e)for(var n=0,a=(e=e.slice(0)).length;n<a;++n)e[n].apply(this,r);return this},t.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},t.prototype.hasListeners=function(s){return!!this.listeners(s).length}},6585:m=>{var t=1e3,s=60*t,r=60*s,e=24*r,n=7*e;function a(c,p,f,u){var l=p>=1.5*f;return Math.round(c/f)+" "+u+(l?"s":"")}m.exports=function(c,p){p=p||{};var f,u,l=typeof c;if(l==="string"&&c.length>0)return function(o){if(!((o=String(o)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(i){var h=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return h*n;case"days":case"day":case"d":return h*e;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*s;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(c);if(l==="number"&&isFinite(c))return p.long?(f=c,(u=Math.abs(f))>=e?a(f,u,e,"day"):u>=r?a(f,u,r,"hour"):u>=s?a(f,u,s,"minute"):u>=t?a(f,u,t,"second"):f+" ms"):function(o){var i=Math.abs(o);return i>=e?Math.round(o/e)+"d":i>=r?Math.round(o/r)+"h":i>=s?Math.round(o/s)+"m":i>=t?Math.round(o/t)+"s":o+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},6617:(m,t,s)=>{function r(){var e;try{e=t.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=yt.DEBUG),e}(t=m.exports=s(9110)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var c=0,p=0;e[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(c++,f==="%c"&&(p=c))}),e.splice(p,0,a)}},t.save=function(e){try{e==null?t.storage.removeItem("debug"):t.storage.debug=e}catch{}},t.load=r,t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},t.enable(r())},6855:(m,t,s)=>{var r,e=s(2672),n=s(3401),a=s(9140),c=s(2370),p=s(2121),f=s(6617)("engine.io-client:websocket"),u=I.WebSocket||I.MozWebSocket;if(typeof window>"u")try{r=s(5660)}catch{}var l=u;function o(i){i&&i.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=i.perMessageDeflate,this.usingBrowserWebSocket=u&&!i.forceNode,this.protocols=i.protocols,this.usingBrowserWebSocket||(l=r),e.call(this,i)}l||typeof window<"u"||(l=r),m.exports=o,c(o,e),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var i=this.uri(),h=this.protocols,_={agent:this.agent,perMessageDeflate:this.perMessageDeflate};_.pfx=this.pfx,_.key=this.key,_.passphrase=this.passphrase,_.cert=this.cert,_.ca=this.ca,_.ciphers=this.ciphers,_.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(_.headers=this.extraHeaders),this.localAddress&&(_.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?h?new l(i,h):new l(i):new l(i,h,_)}catch(g){return this.emit("error",g)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var i=this;this.ws.onopen=function(){i.onOpen()},this.ws.onclose=function(){i.onClose()},this.ws.onmessage=function(h){i.onData(h.data)},this.ws.onerror=function(h){i.onError("websocket error",h)}},o.prototype.write=function(i){var h=this;this.writable=!1;for(var _=i.length,g=0,y=_;g<y;g++)(function(v){n.encodePacket(v,h.supportsBinary,function(C){if(!h.usingBrowserWebSocket){var b={};v.options&&(b.compress=v.options.compress),h.perMessageDeflate&&(typeof C=="string"?I.Buffer.byteLength(C):C.length)<h.perMessageDeflate.threshold&&(b.compress=!1)}try{h.usingBrowserWebSocket?h.ws.send(C):h.ws.send(C,b)}catch{f("websocket closed before onclose event")}--_||(h.emit("flush"),setTimeout(function(){h.writable=!0,h.emit("drain")},0))})})(i[g])},o.prototype.onClose=function(){e.prototype.onClose.call(this)},o.prototype.doClose=function(){this.ws!==void 0&&this.ws.close()},o.prototype.uri=function(){var i=this.query||{},h=this.secure?"wss":"ws",_="";return this.port&&(h==="wss"&&Number(this.port)!==443||h==="ws"&&Number(this.port)!==80)&&(_=":"+this.port),this.timestampRequests&&(i[this.timestampParam]=p()),this.supportsBinary||(i.b64=1),(i=a.encode(i)).length&&(i="?"+i),h+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+_+this.path+i},o.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===o.prototype.name)}},6938:m=>{var t=[].indexOf;m.exports=function(s,r){if(t)return s.indexOf(r);for(var e=0;e<s.length;++e)if(s[e]===r)return e;return-1}},7007:m=>{var t,s=typeof Reflect=="object"?Reflect:null,r=s&&typeof s.apply=="function"?s.apply:function(g,y,v){return Function.prototype.apply.call(g,y,v)};t=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var e=Number.isNaN||function(g){return g!=g};function n(){n.init.call(this)}m.exports=n,m.exports.once=function(g,y){return new Promise(function(v,C){function b(S){g.removeListener(y,T),C(S)}function T(){typeof g.removeListener=="function"&&g.removeListener("error",b),v([].slice.call(arguments))}_(g,y,T,{once:!0}),y!=="error"&&function(S,x){typeof S.on=="function"&&_(S,"error",x,{once:!0})}(g,b)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var a=10;function c(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function p(g){return g._maxListeners===void 0?n.defaultMaxListeners:g._maxListeners}function f(g,y,v,C){var b,T,S,x;if(c(v),(T=g._events)===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",y,v.listener?v.listener:v),T=g._events),S=T[y]),S===void 0)S=T[y]=v,++g._eventsCount;else if(typeof S=="function"?S=T[y]=C?[v,S]:[S,v]:C?S.unshift(v):S.push(v),(b=p(g))>0&&S.length>b&&!S.warned){S.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=g,w.type=y,w.count=S.length,x=w,console&&console.warn&&console.warn(x)}return g}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(g,y,v){var C={fired:!1,wrapFn:void 0,target:g,type:y,listener:v},b=u.bind(C);return b.listener=v,C.wrapFn=b,b}function o(g,y,v){var C=g._events;if(C===void 0)return[];var b=C[y];return b===void 0?[]:typeof b=="function"?v?[b.listener||b]:[b]:v?function(T){for(var S=new Array(T.length),x=0;x<S.length;++x)S[x]=T[x].listener||T[x];return S}(b):h(b,b.length)}function i(g){var y=this._events;if(y!==void 0){var v=y[g];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}function h(g,y){for(var v=new Array(y),C=0;C<y;++C)v[C]=g[C];return v}function _(g,y,v,C){if(typeof g.on=="function")C.once?g.once(y,v):g.on(y,v);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(y,function b(T){C.once&&g.removeEventListener(y,b),v(T)})}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(g){if(typeof g!="number"||g<0||e(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");a=g}}),n.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||e(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},n.prototype.getMaxListeners=function(){return p(this)},n.prototype.emit=function(g){for(var y=[],v=1;v<arguments.length;v++)y.push(arguments[v]);var C=g==="error",b=this._events;if(b!==void 0)C=C&&b.error===void 0;else if(!C)return!1;if(C){var T;if(y.length>0&&(T=y[0]),T instanceof Error)throw T;var S=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw S.context=T,S}var x=b[g];if(x===void 0)return!1;if(typeof x=="function")r(x,this,y);else{var w=x.length,E=h(x,w);for(v=0;v<w;++v)r(E[v],this,y)}return!0},n.prototype.addListener=function(g,y){return f(this,g,y,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(g,y){return f(this,g,y,!0)},n.prototype.once=function(g,y){return c(y),this.on(g,l(this,g,y)),this},n.prototype.prependOnceListener=function(g,y){return c(y),this.prependListener(g,l(this,g,y)),this},n.prototype.removeListener=function(g,y){var v,C,b,T,S;if(c(y),(C=this._events)===void 0)return this;if((v=C[g])===void 0)return this;if(v===y||v.listener===y)--this._eventsCount===0?this._events=Object.create(null):(delete C[g],C.removeListener&&this.emit("removeListener",g,v.listener||y));else if(typeof v!="function"){for(b=-1,T=v.length-1;T>=0;T--)if(v[T]===y||v[T].listener===y){S=v[T].listener,b=T;break}if(b<0)return this;b===0?v.shift():function(x,w){for(;w+1<x.length;w++)x[w]=x[w+1];x.pop()}(v,b),v.length===1&&(C[g]=v[0]),C.removeListener!==void 0&&this.emit("removeListener",g,S||y)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(g){var y,v,C;if((v=this._events)===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[g]),this;if(arguments.length===0){var b,T=Object.keys(v);for(C=0;C<T.length;++C)(b=T[C])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(y=v[g])=="function")this.removeListener(g,y);else if(y!==void 0)for(C=y.length-1;C>=0;C--)this.removeListener(g,y[C]);return this},n.prototype.listeners=function(g){return o(this,g,!0)},n.prototype.rawListeners=function(g){return o(this,g,!1)},n.listenerCount=function(g,y){return typeof g.listenerCount=="function"?g.listenerCount(y):i.call(g,y)},n.prototype.listenerCount=i,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7292:(m,t,s)=>{var r=s(8520),e=s(5971),n=s(6617)("engine.io-client:socket"),a=s(6938),c=s(3401),p=s(4258),f=s(9140);function u(l,o){if(!(this instanceof u))return new u(l,o);o=o||{},l&&typeof l=="object"&&(o=l,l=null),l?(l=p(l),o.hostname=l.host,o.secure=l.protocol==="https"||l.protocol==="wss",o.port=l.port,l.query&&(o.query=l.query)):o.host&&(o.hostname=p(o.host).host),this.secure=o.secure!=null?o.secure:I.location&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.agent=o.agent||!1,this.hostname=o.hostname||(I.location?location.hostname:"localhost"),this.port=o.port||(I.location&&location.port?location.port:this.secure?443:80),this.query=o.query||{},typeof this.query=="string"&&(this.query=f.decode(this.query)),this.upgrade=o.upgrade!==!1,this.path=(o.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!o.forceJSONP,this.jsonp=o.jsonp!==!1,this.forceBase64=!!o.forceBase64,this.enablesXDR=!!o.enablesXDR,this.timestampParam=o.timestampParam||"t",this.timestampRequests=o.timestampRequests,this.transports=o.transports||["polling","websocket"],this.transportOptions=o.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=o.policyPort||843,this.rememberUpgrade=o.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=o.onlyBinaryUpgrades,this.perMessageDeflate=o.perMessageDeflate!==!1&&(o.perMessageDeflate||{}),this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=o.pfx||null,this.key=o.key||null,this.passphrase=o.passphrase||null,this.cert=o.cert||null,this.ca=o.ca||null,this.ciphers=o.ciphers||null,this.rejectUnauthorized=o.rejectUnauthorized===void 0||o.rejectUnauthorized,this.forceNode=!!o.forceNode;var i=typeof I=="object"&&I;i.global===i&&(o.extraHeaders&&Object.keys(o.extraHeaders).length>0&&(this.extraHeaders=o.extraHeaders),o.localAddress&&(this.localAddress=o.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}m.exports=u,u.priorWebsocketSuccess=!1,e(u.prototype),u.protocol=c.protocol,u.Socket=u,u.Transport=s(2672),u.transports=s(8520),u.parser=s(3401),u.prototype.createTransport=function(l){n('creating transport "%s"',l);var o=function(h){var _={};for(var g in h)h.hasOwnProperty(g)&&(_[g]=h[g]);return _}(this.query);o.EIO=c.protocol,o.transport=l;var i=this.transportOptions[l]||{};return this.id&&(o.sid=this.id),new r[l]({query:o,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},u.prototype.open=function(){var l;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)l="websocket";else{if(this.transports.length===0){var o=this;return void setTimeout(function(){o.emit("error","No transports available")},0)}l=this.transports[0]}this.readyState="opening";try{l=this.createTransport(l)}catch{return this.transports.shift(),void this.open()}l.open(),this.setTransport(l)},u.prototype.setTransport=function(l){n("setting transport %s",l.name);var o=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=l,l.on("drain",function(){o.onDrain()}).on("packet",function(i){o.onPacket(i)}).on("error",function(i){o.onError(i)}).on("close",function(){o.onClose("transport close")})},u.prototype.probe=function(l){n('probing transport "%s"',l);var o=this.createTransport(l,{probe:1}),i=!1,h=this;function _(){if(h.onlyBinaryUpgrades){var S=!this.supportsBinary&&h.transport.supportsBinary;i=i||S}i||(n('probe transport "%s" opened',l),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(x){if(!i)if(x.type==="pong"&&x.data==="probe"){if(n('probe transport "%s" pong',l),h.upgrading=!0,h.emit("upgrading",o),!o)return;u.priorWebsocketSuccess=o.name==="websocket",n('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){i||h.readyState!=="closed"&&(n("changing transport and sending upgrade packet"),T(),h.setTransport(o),o.send([{type:"upgrade"}]),h.emit("upgrade",o),o=null,h.upgrading=!1,h.flush())})}else{n('probe transport "%s" failed',l);var w=new Error("probe error");w.transport=o.name,h.emit("upgradeError",w)}}))}function g(){i||(i=!0,T(),o.close(),o=null)}function y(S){var x=new Error("probe error: "+S);x.transport=o.name,g(),n('probe transport "%s" failed because of error: %s',l,S),h.emit("upgradeError",x)}function v(){y("transport closed")}function C(){y("socket closed")}function b(S){o&&S.name!==o.name&&(n('"%s" works - aborting "%s"',S.name,o.name),g())}function T(){o.removeListener("open",_),o.removeListener("error",y),o.removeListener("close",v),h.removeListener("close",C),h.removeListener("upgrading",b)}u.priorWebsocketSuccess=!1,o.once("open",_),o.once("error",y),o.once("close",v),this.once("close",C),this.once("upgrading",b),o.open()},u.prototype.onOpen=function(){if(n("socket open"),this.readyState="open",u.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){n("starting upgrade probes");for(var l=0,o=this.upgrades.length;l<o;l++)this.probe(this.upgrades[l])}},u.prototype.onPacket=function(l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(n('socket receive: type "%s", data "%s"',l.type,l.data),this.emit("packet",l),this.emit("heartbeat"),l.type){case"open":this.onHandshake(JSON.parse(l.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var o=new Error("server error");o.code=l.data,this.onError(o);break;case"message":this.emit("data",l.data),this.emit("message",l.data)}else n('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(l){this.emit("handshake",l),this.id=l.sid,this.transport.query.sid=l.sid,this.upgrades=this.filterUpgrades(l.upgrades),this.pingInterval=l.pingInterval,this.pingTimeout=l.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(l){clearTimeout(this.pingTimeoutTimer);var o=this;o.pingTimeoutTimer=setTimeout(function(){o.readyState!=="closed"&&o.onClose("ping timeout")},l||o.pingInterval+o.pingTimeout)},u.prototype.setPing=function(){var l=this;clearTimeout(l.pingIntervalTimer),l.pingIntervalTimer=setTimeout(function(){n("writing ping packet - expecting pong within %sms",l.pingTimeout),l.ping(),l.onHeartbeat(l.pingTimeout)},l.pingInterval)},u.prototype.ping=function(){var l=this;this.sendPacket("ping",function(){l.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},u.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(l,o,i){return this.sendPacket("message",l,o,i),this},u.prototype.sendPacket=function(l,o,i,h){if(typeof o=="function"&&(h=o,o=void 0),typeof i=="function"&&(h=i,i=null),this.readyState!=="closing"&&this.readyState!=="closed"){(i=i||{}).compress=i.compress!==!1;var _={type:l,data:o,options:i};this.emit("packetCreate",_),this.writeBuffer.push(_),h&&this.once("flush",h),this.flush()}},u.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var l=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?h():o()}):this.upgrading?h():o()}function o(){l.onClose("forced close"),n("socket closing - telling transport to close"),l.transport.close()}function i(){l.removeListener("upgrade",i),l.removeListener("upgradeError",i),o()}function h(){l.once("upgrade",i),l.once("upgradeError",i)}return this},u.prototype.onError=function(l){n("socket error %j",l),u.priorWebsocketSuccess=!1,this.emit("error",l),this.onClose("transport error",l)},u.prototype.onClose=function(l,o){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(n('socket close with reason: "%s"',l),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",l,o),this.writeBuffer=[],this.prevBufferLen=0)},u.prototype.filterUpgrades=function(l){for(var o=[],i=0,h=l.length;i<h;i++)~a(this.transports,l[i])&&o.push(l[i]);return o}},7698:(m,t,s)=>{var r=s(9331),e=s(5074),n=s(9725),a=s(9368)("socket.io-client");m.exports=t=p;var c=t.managers={};function p(f,u){typeof f=="object"&&(u=f,f=void 0),u=u||{};var l,o=r(f),i=o.source,h=o.id,_=o.path,g=c[h]&&_ in c[h].nsps;return u.forceNew||u["force new connection"]||u.multiplex===!1||g?(a("ignoring socket cache for %s",i),l=n(i,u)):(c[h]||(a("new io instance for %s",i),c[h]=n(i,u)),l=c[h]),o.query&&!u.query&&(u.query=o.query),l.socket(o.path,u)}t.protocol=e.protocol,t.connect=p,t.Manager=s(9725),t.Socket=s(7773)},7773:(m,t,s)=>{var r=s(5074),e=s(5971),n=s(8104),a=s(4745),c=s(8144),p=s(9368)("socket.io-client:socket"),f=s(9140);m.exports=o;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=e.prototype.emit;function o(i,h,_){this.io=i,this.nsp=h,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,_&&_.query&&(this.query=_.query),this.io.autoConnect&&this.open()}e(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var i=this.io;this.subs=[a(i,"open",c(this,"onopen")),a(i,"packet",c(this,"onpacket")),a(i,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var i=n(arguments);return i.unshift("message"),this.emit.apply(this,i),this},o.prototype.emit=function(i){if(u.hasOwnProperty(i))return l.apply(this,arguments),this;var h=n(arguments),_={type:r.EVENT,data:h,options:{}};return _.options.compress=!this.flags||this.flags.compress!==!1,typeof h[h.length-1]=="function"&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=h.pop(),_.id=this.ids++),this.connected?this.packet(_):this.sendBuffer.push(_),delete this.flags,this},o.prototype.packet=function(i){i.nsp=this.nsp,this.io.packet(i)},o.prototype.onopen=function(){if(p("transport is open - connecting"),this.nsp!=="/")if(this.query){var i=typeof this.query=="object"?f.encode(this.query):this.query;p("sending connect packet with query %s",i),this.packet({type:r.CONNECT,query:i})}else this.packet({type:r.CONNECT})},o.prototype.onclose=function(i){p("close (%s)",i),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",i)},o.prototype.onpacket=function(i){if(i.nsp===this.nsp)switch(i.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(i);break;case r.ACK:case r.BINARY_ACK:this.onack(i);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",i.data)}},o.prototype.onevent=function(i){var h=i.data||[];p("emitting event %j",h),i.id!=null&&(p("attaching ack callback to event"),h.push(this.ack(i.id))),this.connected?l.apply(this,h):this.receiveBuffer.push(h)},o.prototype.ack=function(i){var h=this,_=!1;return function(){if(!_){_=!0;var g=n(arguments);p("sending ack %j",g),h.packet({type:r.ACK,id:i,data:g})}}},o.prototype.onack=function(i){var h=this.acks[i.id];typeof h=="function"?(p("calling ack %s with %j",i.id,i.data),h.apply(this,i.data),delete this.acks[i.id]):p("bad ack %s",i.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var i;for(i=0;i<this.receiveBuffer.length;i++)l.apply(this,this.receiveBuffer[i]);for(this.receiveBuffer=[],i=0;i<this.sendBuffer.length;i++)this.packet(this.sendBuffer[i]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var i=0;i<this.subs.length;i++)this.subs[i].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(i){return this.flags=this.flags||{},this.flags.compress=i,this}},7833:(m,t,s)=>{t.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+m.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let a=0,c=0;e[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(a++,p==="%c"&&(c=a))}),e.splice(c,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=yt.DEBUG),e},t.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),m.exports=s(736)(t);const{formatters:r}=m.exports;r.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}},8104:m=>{m.exports=function(t,s){for(var r=[],e=(s=s||0)||0;e<t.length;e++)r[e-s]=t[e];return r}},8144:m=>{var t=[].slice;m.exports=function(s,r){if(typeof r=="string"&&(r=s[r]),typeof r!="function")throw new Error("bind() requires a function");var e=t.call(arguments,2);return function(){return r.apply(s,e.concat(t.call(arguments)))}}},8247:m=>{m.exports=function(t){return I.Buffer&&I.Buffer.isBuffer(t)||I.ArrayBuffer&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))}},8383:m=>{try{m.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{m.exports=!1}},8520:(m,t,s)=>{var r=s(3051),e=s(9332),n=s(2252),a=s(6855);t.polling=function(c){var p=!1,f=!1,u=c.jsonp!==!1;if(I.location){var l=location.protocol==="https:",o=location.port;o||(o=l?443:80),p=c.hostname!==location.hostname||o!==c.port,f=c.secure!==l}if(c.xdomain=p,c.xscheme=f,"open"in new r(c)&&!c.forceJSONP)return new e(c);if(!u)throw new Error("JSONP disabled");return new n(c)},t.websocket=a},8758:m=>{var t,s,r,e=String.fromCharCode;function n(l){for(var o,i,h=[],_=0,g=l.length;_<g;)(o=l.charCodeAt(_++))>=55296&&o<=56319&&_<g?(64512&(i=l.charCodeAt(_++)))==56320?h.push(((1023&o)<<10)+(1023&i)+65536):(h.push(o),_--):h.push(o);return h}function a(l,o){if(l>=55296&&l<=57343){if(o)throw Error("Lone surrogate U+"+l.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(l,o){return e(l>>o&63|128)}function p(l,o){if(!(4294967168&l))return e(l);var i="";return 4294965248&l?4294901760&l?4292870144&l||(i=e(l>>18&7|240),i+=c(l,12),i+=c(l,6)):(a(l,o)||(l=65533),i=e(l>>12&15|224),i+=c(l,6)):i=e(l>>6&31|192),i+e(63&l|128)}function f(){if(r>=s)throw Error("Invalid byte index");var l=255&t[r];if(r++,(192&l)==128)return 63&l;throw Error("Invalid continuation byte")}function u(l){var o,i;if(r>s)throw Error("Invalid byte index");if(r==s)return!1;if(o=255&t[r],r++,!(128&o))return o;if((224&o)==192){if((i=(31&o)<<6|f())>=128)return i;throw Error("Invalid continuation byte")}if((240&o)==224){if((i=(15&o)<<12|f()<<6|f())>=2048)return a(i,l)?i:65533;throw Error("Invalid continuation byte")}if((248&o)==240&&(i=(7&o)<<18|f()<<12|f()<<6|f())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}m.exports={version:"2.1.2",encode:function(l,o){for(var i=(o=o||{}).strict!==!1,h=n(l),_=h.length,g=-1,y="";++g<_;)y+=p(h[g],i);return y},decode:function(l,o){var i=(o=o||{}).strict!==!1;t=n(l),s=t.length,r=0;for(var h,_=[];(h=u(i))!==!1;)_.push(h);return function(g){for(var y,v=g.length,C=-1,b="";++C<v;)(y=g[C])>65535&&(b+=e((y-=65536)>>>10&1023|55296),y=56320|1023&y),b+=e(y);return b}(_)}}},8839:(m,t,s)=>{var r=s(4634),e=Object.prototype.toString,n=typeof Blob=="function"||typeof Blob<"u"&&e.call(Blob)==="[object BlobConstructor]",a=typeof File=="function"||typeof File<"u"&&e.call(File)==="[object FileConstructor]";m.exports=function c(p){if(!p||typeof p!="object")return!1;if(r(p)){for(var f=0,u=p.length;f<u;f++)if(c(p[f]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(p)||typeof ArrayBuffer=="function"&&p instanceof ArrayBuffer||n&&p instanceof Blob||a&&p instanceof File)return!0;if(p.toJSON&&typeof p.toJSON=="function"&&arguments.length===1)return c(p.toJSON(),!0);for(var l in p)if(Object.prototype.hasOwnProperty.call(p,l)&&c(p[l]))return!0;return!1}},9110:(m,t,s)=>{function r(n){var a;function c(){if(c.enabled){var p=c,f=+new Date,u=f-(a||f);p.diff=u,p.prev=a,p.curr=f,a=f;for(var l=new Array(arguments.length),o=0;o<l.length;o++)l[o]=arguments[o];l[0]=t.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");var i=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(h,_){if(h==="%%")return h;i++;var g=t.formatters[_];if(typeof g=="function"){var y=l[i];h=g.call(p,y),l.splice(i,1),i--}return h}),t.formatArgs.call(p,l),(c.log||t.log||console.log.bind(console)).apply(p,l)}}return c.namespace=n,c.enabled=t.enabled(n),c.useColors=t.useColors(),c.color=function(p){var f,u=0;for(f in p)u=(u<<5)-u+p.charCodeAt(f),u|=0;return t.colors[Math.abs(u)%t.colors.length]}(n),c.destroy=e,typeof t.init=="function"&&t.init(c),t.instances.push(c),c}function e(){var n=t.instances.indexOf(this);return n!==-1&&(t.instances.splice(n,1),!0)}(t=m.exports=r.debug=r.default=r).coerce=function(n){return n instanceof Error?n.stack||n.message:n},t.disable=function(){t.enable("")},t.enable=function(n){var a;t.save(n),t.names=[],t.skips=[];var c=(typeof n=="string"?n:"").split(/[\s,]+/),p=c.length;for(a=0;a<p;a++)c[a]&&((n=c[a].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+n.substr(1)+"$")):t.names.push(new RegExp("^"+n+"$")));for(a=0;a<t.instances.length;a++){var f=t.instances[a];f.enabled=t.enabled(f.namespace)}},t.enabled=function(n){if(n[n.length-1]==="*")return!0;var a,c;for(a=0,c=t.skips.length;a<c;a++)if(t.skips[a].test(n))return!1;for(a=0,c=t.names.length;a<c;a++)if(t.names[a].test(n))return!0;return!1},t.humanize=s(3097),t.instances=[],t.names=[],t.skips=[],t.formatters={}},9140:(m,t)=>{t.encode=function(s){var r="";for(var e in s)s.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(s[e]));return r},t.decode=function(s){for(var r={},e=s.split("&"),n=0,a=e.length;n<a;n++){var c=e[n].split("=");r[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return r}},9331:(m,t,s)=>{var r=s(4258),e=s(9368)("socket.io-client:url");m.exports=function(n,a){var c=n;a=a||I.location,n==null&&(n=a.protocol+"//"+a.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n=n.charAt(1)==="/"?a.protocol+n:a.host+n),/^(https?|wss?):\/\//.test(n)||(e("protocol-less url %s",n),n=a!==void 0?a.protocol+"//"+n:"https://"+n),e("parse %s",n),c=r(n)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";var p=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+p+":"+c.port,c.href=c.protocol+"://"+p+(a&&a.port===c.port?"":":"+c.port),c}},9332:(m,t,s)=>{var r=s(3051),e=s(5911),n=s(5971),a=s(2370),c=s(6617)("engine.io-client:polling-xhr");function p(){}function f(o){if(e.call(this,o),this.requestTimeout=o.requestTimeout,this.extraHeaders=o.extraHeaders,I.location){var i=location.protocol==="https:",h=location.port;h||(h=i?443:80),this.xd=o.hostname!==I.location.hostname||h!==o.port,this.xs=o.secure!==i}}function u(o){this.method=o.method||"GET",this.uri=o.uri,this.xd=!!o.xd,this.xs=!!o.xs,this.async=o.async!==!1,this.data=o.data!==void 0?o.data:null,this.agent=o.agent,this.isBinary=o.isBinary,this.supportsBinary=o.supportsBinary,this.enablesXDR=o.enablesXDR,this.requestTimeout=o.requestTimeout,this.pfx=o.pfx,this.key=o.key,this.passphrase=o.passphrase,this.cert=o.cert,this.ca=o.ca,this.ciphers=o.ciphers,this.rejectUnauthorized=o.rejectUnauthorized,this.extraHeaders=o.extraHeaders,this.create()}function l(){for(var o in u.requests)u.requests.hasOwnProperty(o)&&u.requests[o].abort()}m.exports=f,m.exports.Request=u,a(f,e),f.prototype.supportsBinary=!0,f.prototype.request=function(o){return(o=o||{}).uri=this.uri(),o.xd=this.xd,o.xs=this.xs,o.agent=this.agent||!1,o.supportsBinary=this.supportsBinary,o.enablesXDR=this.enablesXDR,o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized,o.requestTimeout=this.requestTimeout,o.extraHeaders=this.extraHeaders,new u(o)},f.prototype.doWrite=function(o,i){var h=typeof o!="string"&&o!==void 0,_=this.request({method:"POST",data:o,isBinary:h}),g=this;_.on("success",i),_.on("error",function(y){g.onError("xhr post error",y)}),this.sendXhr=_},f.prototype.doPoll=function(){c("xhr poll");var o=this.request(),i=this;o.on("data",function(h){i.onData(h)}),o.on("error",function(h){i.onError("xhr poll error",h)}),this.pollXhr=o},n(u.prototype),u.prototype.create=function(){var o={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new r(o),h=this;try{c("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var _ in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(_)&&i.setRequestHeader(_,this.extraHeaders[_])}catch{}if(this.method==="POST")try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in i&&(i.withCredentials=!0),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){h.onLoad()},i.onerror=function(){h.onError(i.responseText)}):i.onreadystatechange=function(){if(i.readyState===2)try{var g=i.getResponseHeader("Content-Type");h.supportsBinary&&g==="application/octet-stream"&&(i.responseType="arraybuffer")}catch{}i.readyState===4&&(i.status===200||i.status===1223?h.onLoad():setTimeout(function(){h.onError(i.status)},0))},c("xhr data %s",this.data),i.send(this.data)}catch(g){return void setTimeout(function(){h.onError(g)},0)}I.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(o){this.emit("data",o),this.onSuccess()},u.prototype.onError=function(o){this.emit("error",o),this.cleanup(!0)},u.prototype.cleanup=function(o){if(this.xhr!==void 0&&this.xhr!==null){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=p:this.xhr.onreadystatechange=p,o)try{this.xhr.abort()}catch{}I.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var o;try{var i;try{i=this.xhr.getResponseHeader("Content-Type")}catch{}o=i==="application/octet-stream"&&this.xhr.response||this.xhr.responseText}catch(h){this.onError(h)}o!=null&&this.onData(o)},u.prototype.hasXDR=function(){return I.XDomainRequest!==void 0&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},I.document&&(I.attachEvent?I.attachEvent("onunload",l):I.addEventListener&&I.addEventListener("beforeunload",l,!1))},9368:(m,t,s)=>{function r(){var e;try{e=t.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=yt.DEBUG),e}(t=m.exports=s(9939)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var c=0,p=0;e[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(c++,f==="%c"&&(p=c))}),e.splice(p,0,a)}},t.save=function(e){try{e==null?t.storage.removeItem("debug"):t.storage.debug=e}catch{}},t.load=r,t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},t.enable(r())},9725:(m,t,s)=>{var r=s(3357),e=s(7773),n=s(5971),a=s(5074),c=s(4745),p=s(8144),f=s(9368)("socket.io-client:manager"),u=s(6938),l=s(3059),o=Object.prototype.hasOwnProperty;function i(h,_){if(!(this instanceof i))return new i(h,_);h&&typeof h=="object"&&(_=h,h=void 0),(_=_||{}).path=_.path||"/socket.io",this.nsps={},this.subs=[],this.opts=_,this.reconnection(_.reconnection!==!1),this.reconnectionAttempts(_.reconnectionAttempts||1/0),this.reconnectionDelay(_.reconnectionDelay||1e3),this.reconnectionDelayMax(_.reconnectionDelayMax||5e3),this.randomizationFactor(_.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(_.timeout==null?2e4:_.timeout),this.readyState="closed",this.uri=h,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var g=_.parser||a;this.encoder=new g.Encoder,this.decoder=new g.Decoder,this.autoConnect=_.autoConnect!==!1,this.autoConnect&&this.open()}m.exports=i,i.prototype.emitAll=function(){for(var h in this.emit.apply(this,arguments),this.nsps)o.call(this.nsps,h)&&this.nsps[h].emit.apply(this.nsps[h],arguments)},i.prototype.updateSocketIds=function(){for(var h in this.nsps)o.call(this.nsps,h)&&(this.nsps[h].id=this.generateId(h))},i.prototype.generateId=function(h){return(h==="/"?"":h+"#")+this.engine.id},n(i.prototype),i.prototype.reconnection=function(h){return arguments.length?(this._reconnection=!!h,this):this._reconnection},i.prototype.reconnectionAttempts=function(h){return arguments.length?(this._reconnectionAttempts=h,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(h){return arguments.length?(this._reconnectionDelay=h,this.backoff&&this.backoff.setMin(h),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(h){return arguments.length?(this._randomizationFactor=h,this.backoff&&this.backoff.setJitter(h),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(h){return arguments.length?(this._reconnectionDelayMax=h,this.backoff&&this.backoff.setMax(h),this):this._reconnectionDelayMax},i.prototype.timeout=function(h){return arguments.length?(this._timeout=h,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},i.prototype.open=i.prototype.connect=function(h,_){if(f("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=r(this.uri,this.opts);var g=this.engine,y=this;this.readyState="opening",this.skipReconnect=!1;var v=c(g,"open",function(){y.onopen(),h&&h()}),C=c(g,"error",function(S){if(f("connect_error"),y.cleanup(),y.readyState="closed",y.emitAll("connect_error",S),h){var x=new Error("Connection error");x.data=S,h(x)}else y.maybeReconnectOnOpen()});if(this._timeout!==!1){var b=this._timeout;f("connect attempt will timeout after %d",b);var T=setTimeout(function(){f("connect attempt timed out after %d",b),v.destroy(),g.close(),g.emit("error","timeout"),y.emitAll("connect_timeout",b)},b);this.subs.push({destroy:function(){clearTimeout(T)}})}return this.subs.push(v),this.subs.push(C),this},i.prototype.onopen=function(){f("open"),this.cleanup(),this.readyState="open",this.emit("open");var h=this.engine;this.subs.push(c(h,"data",p(this,"ondata"))),this.subs.push(c(h,"ping",p(this,"onping"))),this.subs.push(c(h,"pong",p(this,"onpong"))),this.subs.push(c(h,"error",p(this,"onerror"))),this.subs.push(c(h,"close",p(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",p(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(h){this.decoder.add(h)},i.prototype.ondecoded=function(h){this.emit("packet",h)},i.prototype.onerror=function(h){f("error",h),this.emitAll("error",h)},i.prototype.socket=function(h,_){var g=this.nsps[h];if(!g){g=new e(this,h,_),this.nsps[h]=g;var y=this;g.on("connecting",v),g.on("connect",function(){g.id=y.generateId(h)}),this.autoConnect&&v()}function v(){~u(y.connecting,g)||y.connecting.push(g)}return g},i.prototype.destroy=function(h){var _=u(this.connecting,h);~_&&this.connecting.splice(_,1),this.connecting.length||this.close()},i.prototype.packet=function(h){f("writing packet %j",h);var _=this;h.query&&h.type===0&&(h.nsp+="?"+h.query),_.encoding?_.packetBuffer.push(h):(_.encoding=!0,this.encoder.encode(h,function(g){for(var y=0;y<g.length;y++)_.engine.write(g[y],h.options);_.encoding=!1,_.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var h=this.packetBuffer.shift();this.packet(h)}},i.prototype.cleanup=function(){f("cleanup");for(var h=this.subs.length,_=0;_<h;_++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){f("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(h){f("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",h),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var h=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var _=this.backoff.duration();f("will wait %dms before reconnect attempt",_),this.reconnecting=!0;var g=setTimeout(function(){h.skipReconnect||(f("attempting reconnect"),h.emitAll("reconnect_attempt",h.backoff.attempts),h.emitAll("reconnecting",h.backoff.attempts),h.skipReconnect||h.open(function(y){y?(f("reconnect attempt error"),h.reconnecting=!1,h.reconnect(),h.emitAll("reconnect_error",y.data)):(f("reconnect success"),h.onreconnect())}))},_);this.subs.push({destroy:function(){clearTimeout(g)}})}},i.prototype.onreconnect=function(){var h=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",h)}},9939:(m,t,s)=>{var r;function e(n){function a(){if(a.enabled){var c=a,p=+new Date,f=p-(r||p);c.diff=f,c.prev=r,c.curr=p,r=p;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=t.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var o=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(i,h){if(i==="%%")return i;o++;var _=t.formatters[h];if(typeof _=="function"){var g=u[o];i=_.call(c,g),u.splice(o,1),o--}return i}),t.formatArgs.call(c,u),(a.log||t.log||console.log.bind(console)).apply(c,u)}}return a.namespace=n,a.enabled=t.enabled(n),a.useColors=t.useColors(),a.color=function(c){var p,f=0;for(p in c)f=(f<<5)-f+c.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}(n),typeof t.init=="function"&&t.init(a),a}(t=m.exports=e.debug=e.default=e).coerce=function(n){return n instanceof Error?n.stack||n.message:n},t.disable=function(){t.enable("")},t.enable=function(n){t.save(n),t.names=[],t.skips=[];for(var a=(typeof n=="string"?n:"").split(/[\s,]+/),c=a.length,p=0;p<c;p++)a[p]&&((n=a[p].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+n.substr(1)+"$")):t.names.push(new RegExp("^"+n+"$")))},t.enabled=function(n){var a,c;for(a=0,c=t.skips.length;a<c;a++)if(t.skips[a].test(n))return!1;for(a=0,c=t.names.length;a<c;a++)if(t.names[a].test(n))return!0;return!1},t.humanize=s(2902),t.names=[],t.skips=[],t.formatters={}}},qt={};function j(m){var t=qt[m];if(t!==void 0)return t.exports;var s=qt[m]={exports:{}};return ee[m](s,s.exports,j),s.exports}j.n=m=>{var t=m&&m.__esModule?()=>m.default:()=>m;return j.d(t,{a:t}),t},j.d=(m,t)=>{for(var s in t)j.o(t,s)&&!j.o(m,s)&&Object.defineProperty(m,s,{enumerable:!0,get:t[s]})},j.o=(m,t)=>Object.prototype.hasOwnProperty.call(m,t);var Ot={};j.d(Ot,{Bx:()=>Y,F4:()=>Jt,Pr:()=>ae});var se=j(7007),oe=j.n(se),ne=j(7698),re=j.n(ne),ie=j(7833),J=j.n(ie);const Jt=Object.freeze({createAccessToken:"/auth/v1/token",updateAccessToken:"/auth/v1/token",deleteToken:"/auth/v1/token/revoke",createSessionUrl:"/open/v1/sessions/auth",createChatEventSubscription:"/open/v1/sessions/events/subscribe/chat",createDonationEventSubscription:"/open/v1/sessions/events/subscribe/donation",getUser:"/open/v1/users/me",postChat:"/open/v1/chats/send"}),Y=Object.freeze({SYSTEM:"SYSTEM",CHAT:"CHAT",DONATION:"DONATION"});var $,W,nt,rt,H,Q,V,et,st,G,tt,ot,pt,dt,R,kt;class ae extends oe(){constructor({api_url:s,code:r,state:e,access_token:n,refresh_token:a,token_type:c,expires_in:p,scope:f,paths:u={}}){super();U(this,$);U(this,W);U(this,nt);U(this,rt);U(this,H);U(this,Q);U(this,V);U(this,et);U(this,st);U(this,G);U(this,tt);U(this,ot);U(this,pt);U(this,dt);U(this,R);U(this,kt);gt(this,"on",super.on);gt(this,"off",super.off);gt(this,"emit",super.emit);P(this,$,s),P(this,W,{...Jt,...u}),P(this,nt,r),P(this,rt,e),P(this,H,n),P(this,Q,a),P(this,V,c),P(this,et,parseInt(p)),P(this,st,f),P(this,R,J()("chzzk-proxy")),P(this,kt,J()("chzzk-proxy:error")),A(this,R).call(this,`constructor(${s}, ${r}, ${e}, ${u}, ${n}, ${a}, ${c}, ${p}, ${f})`)}get connected(){return!!A(this,G)&&A(this,G).connected}get api_url(){return A(this,$)}get paths(){return A(this,W)}get code(){return A(this,nt)}get state(){return A(this,rt)}get access_token(){return A(this,H)}get refresh_token(){return A(this,Q)}get token_type(){return A(this,V)}get expires_in(){return A(this,et)}get scope(){return A(this,st)}get session_key(){return A(this,tt)}get channel_id(){return A(this,ot)}get channel_name(){return A(this,pt)}get nickname(){return A(this,dt)}set message(s){if(this.connected)return this.postChat(s)}async connect(){if(this.connected)return this.connected;let s;A(this,H)||(s=await this.createAccessToken()),A(this,R).call(this,"access_token",A(this,H)),A(this,R).call(this,"refresh_token",A(this,Q)),A(this,R).call(this,"token_type",A(this,V)),A(this,R).call(this,"expires_in",A(this,et)),A(this,R).call(this,"scope",A(this,st)),await this.getUser(),s=await this.createSessionUrl();const r=s.url,e={reconnection:!1,"force new connection":!0,"connect timeout":3e3};return typeof window>"u"&&(e.transports=["websocket"]),A(this,R).call(this,"socket_option",e),P(this,G,re()(r,e)),A(this,G).on("connect",async()=>{A(this,R).call(this,"[SUCCESS] socket.io connection established")}),A(this,G).on(Y.SYSTEM,async n=>{const{type:a,data:c}=JSON.parse(n),{sessionKey:p,eventType:f,channelId:u}=c;switch(a){case"connected":A(this,R).call(this,`[SUCCESS] connected sessionKey: ${p}`),P(this,tt,p),await this.createChatEventSubscription(),await this.createDonationEventSubscription();break;case"subscribed":A(this,R).call(this,`[SUCCESS] subscribed eventType: ${f}, channelId: ${u}`),P(this,ot,u);break;case"unsubscribed":A(this,R).call(this,`[SUCCESS] unsubscribed eventType: ${f}, channelId: ${u}`);break;case"revoked":A(this,R).call(this,`[SUCCESS] revoked eventType: ${f}, channelId: ${u}`)}this.emit(Y.SYSTEM,{sessionKey:p,eventType:f,channelId:u})}),A(this,G).on(Y.CHAT,n=>{const a=JSON.parse(n);A(this,R).call(this,Y.CHAT,a),this.emit(Y.CHAT,a)}),A(this,G).on(Y.DONATION,n=>{const a=JSON.parse(n);A(this,R).call(this,Y.CHAT,a),this.emit(Y.DONATION,a)}),this.connected}async destroy(){this.connected&&(A(this,G).close(),P(this,G,null),P(this,tt,null),P(this,ot,null),await this.deleteToken())}async updateToken(){this.connected&&await this.updateAccessToken()}async fetchRequest(s,r){const e=J()("chzzk-proxy:fetchRequest");e("api_url",s),e("options",r);const n=r.method||"GET",a=new URL(s);for(const l in r.param)r.param[l]&&a.searchParams.append(l,`${r.param[l]}`);e("url",a);const c=new Headers;for(const l in r.headers)r.headers[l]&&c.append(l,`${r.headers[l]}`);e("headers",c);const p=new Request(a,{method:n,headers:c,body:JSON.stringify(r.body)});e("request",p);const f=await fetch(p);e("response",f);const u=await f.json();return e("result",u),u.content}async createAccessToken(){const s=J()("chzzk-proxy:createAccessToken"),r=await this.fetchRequest(A(this,$),{method:"POST",headers:{"Content-Type":"application/json",path:A(this,W).createAccessToken},body:{grantType:"authorization_code",code:A(this,nt),state:A(this,rt)}});return s("result",r),P(this,H,r.accessToken),P(this,Q,r.refreshToken),P(this,V,r.tokenType),P(this,et,r.expiresIn),P(this,st,r.scope),r}async updateAccessToken(){const s=J()("chzzk-proxy:updateAccessToken"),r=await this.fetchRequest(A(this,$),{method:"POST",headers:{"Content-Type":"application/json",path:A(this,W).updateAccessToken},body:{grantType:"refresh_token",refreshToken:A(this,Q)}});return s("result",r),r}async deleteToken(){const s=J()("chzzk-proxy:deleteToken"),r=await this.fetchRequest(A(this,$),{method:"POST",headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).deleteToken},body:{token:A(this,H)}});return s("result",r),r}async createSessionUrl(){const s=J()("chzzk-proxy:createSessionUrl"),r=await this.fetchRequest(A(this,$),{method:"GET",headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).createSessionUrl}});return s("result",r),r}async createChatEventSubscription(){const s=J()("chzzk-proxy:createChatEventSubscription"),r=await this.fetchRequest(A(this,$),{method:"POST",param:{sessionKey:A(this,tt)},headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).createChatEventSubscription}});return s("result",r),r}async createDonationEventSubscription(){const s=J()("chzzk-proxy:createDonationEventSubscription"),r=await this.fetchRequest(A(this,$),{method:"POST",param:{sessionKey:A(this,tt)},headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).createDonationEventSubscription}});return s("result",r),r}async getUser(){const s=J()("chzzk-proxy:getUser"),r=await this.fetchRequest(A(this,$),{method:"GET",headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).getUser}});return s("result",r),P(this,ot,r.channelId),P(this,pt,r.channelName),P(this,dt,r.nickname),r}async postChat(s){const r=J()("chzzk-proxy:postChat"),e=await this.fetchRequest(A(this,$),{method:"POST",headers:{Authorization:`${A(this,V)} ${A(this,H)}`,"Content-Type":"application/json",path:A(this,W).postChat},body:{message:s}});return r("result",e),e}}$=new WeakMap,W=new WeakMap,nt=new WeakMap,rt=new WeakMap,H=new WeakMap,Q=new WeakMap,V=new WeakMap,et=new WeakMap,st=new WeakMap,G=new WeakMap,tt=new WeakMap,ot=new WeakMap,pt=new WeakMap,dt=new WeakMap,R=new WeakMap,kt=new WeakMap;const ce=Ot.Pr,$t=Ot.Bx;Ot.F4;class Kt extends z.Events.EventEmitter{}var X=(m=>(m.CHAT="CHAT",m.DONATION="DONATION",m.VOLUME_MASTER="VOLUME_MASTER",m.VOLUME_BGM="VOLUME_BGM",m.VOLUME_EFFECT="VOLUME_EFFECT",m))(X||{});class le extends Kt{constructor(){super(),this.SCALE=4,this.WIDTH=480*this.SCALE,this.HEIGHT=270*this.SCALE,this.DEBUG=!1,this.bgm_map={},this._volume_master=parseFloat(localStorage.getItem("svsv:volume:master")||"0.5"),this._volume_bgm=parseFloat(localStorage.getItem("svsv:volume:bgm")||"0.3"),this._volume_effect=parseFloat(localStorage.getItem("svsv:volume:effect")||"0.5"),this.style={color:{grey_0:parseInt(localStorage.getItem("svsv:style:color:grey_0")||"0x000000"),grey_1:parseInt(localStorage.getItem("svsv:style:color:grey_1")||"0x111111"),grey_2:parseInt(localStorage.getItem("svsv:style:color:grey_2")||"0x222222"),grey_3:parseInt(localStorage.getItem("svsv:style:color:grey_3")||"0x333333"),grey_4:parseInt(localStorage.getItem("svsv:style:color:grey_4")||"0x444444"),grey_5:parseInt(localStorage.getItem("svsv:style:color:grey_5")||"0x555555"),grey_6:parseInt(localStorage.getItem("svsv:style:color:grey_6")||"0x666666"),grey_7:parseInt(localStorage.getItem("svsv:style:color:grey_7")||"0x777777"),grey_8:parseInt(localStorage.getItem("svsv:style:color:grey_8")||"0x888888"),grey_9:parseInt(localStorage.getItem("svsv:style:color:grey_9")||"0x999999"),grey_a:parseInt(localStorage.getItem("svsv:style:color:grey_a")||"0xaaaaaa"),grey_b:parseInt(localStorage.getItem("svsv:style:color:grey_b")||"0xbbbbbb"),grey_c:parseInt(localStorage.getItem("svsv:style:color:grey_c")||"0xcccccc"),grey_d:parseInt(localStorage.getItem("svsv:style:color:grey_d")||"0xdddddd"),grey_e:parseInt(localStorage.getItem("svsv:style:color:grey_e")||"0xeeeeee"),grey_f:parseInt(localStorage.getItem("svsv:style:color:grey_f")||"0xffffff"),green_a:parseInt(localStorage.getItem("svsv:style:color:green_a")||"0x00aa6c"),green_f:parseInt(localStorage.getItem("svsv:style:color:green_f")||"0x00ffa3"),purple_a:parseInt(localStorage.getItem("svsv:style:color:purple_a")||"0x6c00aa"),purple_f:parseInt(localStorage.getItem("svsv:style:color:purple_f")||"0xa300ff"),pink_a:parseInt(localStorage.getItem("svsv:style:color:pink_a")||"0xaa006c"),pink_f:parseInt(localStorage.getItem("svsv:style:color:pink_f")||"0xff00a3")},color_code:{grey_0:localStorage.getItem("svsv:style:color_code:grey_0")||"#000000",grey_1:localStorage.getItem("svsv:style:color_code:grey_1")||"#111111",grey_2:localStorage.getItem("svsv:style:color_code:grey_2")||"#222222",grey_3:localStorage.getItem("svsv:style:color_code:grey_3")||"#333333",grey_4:localStorage.getItem("svsv:style:color_code:grey_4")||"#444444",grey_5:localStorage.getItem("svsv:style:color_code:grey_5")||"#555555",grey_6:localStorage.getItem("svsv:style:color_code:grey_6")||"#666666",grey_7:localStorage.getItem("svsv:style:color_code:grey_7")||"#777777",grey_8:localStorage.getItem("svsv:style:color_code:grey_8")||"#888888",grey_9:localStorage.getItem("svsv:style:color_code:grey_9")||"#999999",grey_a:localStorage.getItem("svsv:style:color_code:grey_a")||"#aaaaaa",grey_b:localStorage.getItem("svsv:style:color_code:grey_b")||"#bbbbbb",grey_c:localStorage.getItem("svsv:style:color_code:grey_c")||"#cccccc",grey_d:localStorage.getItem("svsv:style:color_code:grey_d")||"#dddddd",grey_e:localStorage.getItem("svsv:style:color_code:grey_e")||"#eeeeee",grey_f:localStorage.getItem("svsv:style:color_code:grey_f")||"#ffffff",green_a:localStorage.getItem("svsv:style:color_code:grey_a")||"#00aa6c",green_f:localStorage.getItem("svsv:style:color_code:grey_f")||"#00ffa3",purple_a:localStorage.getItem("svsv:style:color_code:purple_a")||"#6c00aa",purple_f:localStorage.getItem("svsv:style:color_code:purple_f")||"#a300ff",pink_a:localStorage.getItem("svsv:style:color:pink_a")||"#aa006c",pink_f:localStorage.getItem("svsv:style:color:pink_f")||"#ff00a3"},font_style:{},font_padding:0};const t=16;this.style.font_style={fontFamily:"DungGeunMo",fontSize:t*this.SCALE,color:this.style.color_code.grey_f,align:"center"},this.style.font_padding=t*this.SCALE/10,this.url=this.DEBUG?"http://localhost:5173":"https://showskillsspark.github.io/svsv",this.proxy=new ce({api_url:this.DEBUG?"https://pyrsgagtq5.execute-api.ap-northeast-2.amazonaws.com/default/chzzkProxyTest":"https://uohwcn08lb.execute-api.ap-northeast-2.amazonaws.com/default/chzzkProxy",code:sessionStorage.getItem("svsv:proxy:code")||new URL(window.location.href).searchParams.get("code")||void 0,state:sessionStorage.getItem("svsv:proxy:state")||new URL(window.location.href).searchParams.get("state")||void 0,access_token:sessionStorage.getItem("svsv:proxy:access_token")||void 0,refresh_token:sessionStorage.getItem("svsv:proxy:refresh_token")||void 0,token_type:sessionStorage.getItem("svsv:proxy:token_type")||void 0,expires_in:sessionStorage.getItem("svsv:proxy:expires_in")||void 0,scope:sessionStorage.getItem("svsv:proxy:scope")||void 0}),this.proxy.on($t.CHAT,s=>{const{channelId:r,senderChannelId:e,profile:n,content:a,emojis:c,messageTime:p}=s,{nickname:f,badges:u,verifiedMark:l}=n,{key:o,value:i}=c;this.emit("CHAT",{channel_id:e,nickname:f,message:a})}),this.proxy.on($t.DONATION,s=>{const{donationType:r,channelId:e,donatorChannelId:n,donatorNickname:a,payAmount:c,donationText:p,emojis:f}=s,{key:u,value:l}=f;this.emit("DONATION",{channel_id:n,nickname:a,message:p,pay:parseInt(c)})})}set bgm(t){var s;this._bgm_key&&(t!=null&&t.key.startsWith(this._bgm_key))||(this._bgm&&this._bgm.stop(),this._bgm=t,this._bgm_key=t==null?void 0:t.key,(s=this._bgm)==null||s.play())}get volume_master(){return this._volume_master}set volume_master(t){this._volume_master=Math.max(0,Math.min(1,Number(t.toFixed(1)))),localStorage.setItem("svsv:volume:master",this._volume_master.toString()),this.emit("VOLUME_MASTER",t)}get volume_bgm(){return this._volume_bgm}set volume_bgm(t){var s;this._volume_bgm=Math.max(0,Math.min(1,Number(t.toFixed(1)))),localStorage.setItem("svsv:volume:bgm",t.toString()),(s=this._bgm)==null||s.setVolume(t),this.emit("VOLUME_BGM",t)}get volume_effect(){return this._volume_effect}set volume_effect(t){this._volume_effect=Math.max(0,Math.min(1,Number(t.toFixed(1)))),localStorage.setItem("svsv:volume:effect",t.toString()),this.emit("VOLUME_EFFECT",t)}}const d=new le,at=class at extends z.GameObjects.Container{constructor(t,s,r,e,n){super(t,s,r),this._centered=!1,this._pointerover=!1,t.add.existing(this),this.setSize(e,n)}init(t,s,r){const e=this.height*.8,n=Math.min(this.width,e);this.game_logo=s,this.game_logo.setScale(n/this.game_logo.width).setY((n-this.height)/2),this.game_logo_animation_key=r,this.game_logo.play(this.game_logo_animation_key);const a=this.height*.2;this.game_name=this.scene.add.text(0,e/2,t,{...d.style.font_style,fontSize:a}).setOrigin(.5).setPadding(d.style.font_padding),this.cover=this.scene.add.rectangle(0,0,this.width*1.1,this.height*1.1,d.style.color.grey_0,.5),this.add([this.game_logo,this.game_name,this.cover]),this.onButtonState()}get centered(){return this._centered}get pointerover(){return this._pointerover}set centered(t){this._centered=t,this.onButtonState()}set pointerover(t){var s;if(this._pointerover=t,this.onButtonState(),t){this.game_logo.anims.repeatDelay=0;let r=(s=this.game_logo.anims.currentFrame)!=null&&s.index?this.game_logo.anims.currentFrame.index%this.game_logo.anims.getTotalFrames():void 0;this.game_logo.play({key:this.game_logo_animation_key,startFrame:r,repeatDelay:at.animation_duration/10,delay:0})}else this.game_logo.anims.repeatDelay=at.animation_duration,this.game_logo.anims.resume();this.game_logo.anims.reverse()}onButtonState(){this._centered&&this._pointerover?(this.setScale(1.2),this.cover.setAlpha(0)):this._centered&&!this._pointerover?(this.setScale(1),this.cover.setAlpha(0)):!this._centered&&this._pointerover?(this.setScale(1),this.cover.setAlpha(1)):!this._centered&&!this._pointerover&&(this.setScale(.8),this.cover.setAlpha(1))}onpointerup(){console.error(this.game_name.text,"onpointerup is not implemented.")}onpointerdown(){this.game_logo.anims.pause()}};at.animation_duration=1e3;let Pt=at;var B=(m=>(m.TEAM1="TEAM1",m.TEAM2="TEAM2",m))(B||{}),q=(m=>(m.WHITE="하양",m.BLACK="검정",m.NONE="투명",m))(q||{}),it=(m=>(m.CLICK="클릭",m.MOST="최다 득표",m.PROPORTIONAL="득표 비례 확률",m))(it||{}),N=(m=>(m.TEAM1="1 팀",m.TEAM2="2 팀",m.NONE="불참",m.DEFAULT="기본값",m))(N||{}),_t=(m=>(m.TEAM1="1 팀",m.TEAM2="2 팀",m.RANDOM="무작위",m))(_t||{});class Wt{constructor({name:t,timeout_index:s,disk_index:r,put_index:e}){this.timeout_list=[-1,10,20,30,40,50,60,300],this.disk_color_list=["하양","검정"],this.put_list=["클릭","최다 득표","득표 비례 확률"],this.name=t,this.timeout_index=s,this.disk_color_index=r,this.put_index=e}get timeout(){return this.timeout_list[this.timeout_index]}get disk_color(){return this.disk_color_list[this.disk_color_index]}get put(){return this.put_list[this.put_index]}nextTimeout(t){return this.timeout_index=(this.timeout_index+this.timeout_list.length+t)%this.timeout_list.length,this.timeout}nextDisk(t){return this.disk_color_index=(this.disk_color_index+this.disk_color_list.length+t)%this.disk_color_list.length,this.disk_color}nextPut(t){return this.put_index=(this.put_index+this.put_list.length+t)%this.put_list.length,this.put}}var Bt=(m=>(m[m.WALL=0]="WALL",m[m.EMPTY=1]="EMPTY",m[m.BLOCK=2]="BLOCK",m))(Bt||{}),Z=(m=>(m.SET="SET",m.PUT="PUT",m.PUT_FAIL="PUT_FAIL",m.PASS="PASS",m.END="END",m))(Z||{});class he{constructor(t,s,r){this.team_tag=null,this.x=t,this.y=s,this.disk_color=r}}class ue{constructor(t){this.width_list=[8,10],this.height_list=[8,10],this.tiles=[],this.disks=[],this.parent=t,this.width_index=parseInt(localStorage.getItem("svsv:othello:game_board:width_index")||"0"),this.height_index=parseInt(localStorage.getItem("svsv:othello:game_board:height_index")||"0"),this.counter={TEAM1:0,TEAM2:0}}get width(){return this.width_list[this.width_index]}get height(){return this.height_list[this.height_index]}init(t,s){this.counter={TEAM1:0,TEAM2:0};for(let r=0;r<12;r++){this.tiles[r]=[],this.disks[r]=[];for(let e=0;e<12;e++)r>0&&r<=this.width&&e>0&&e<=this.height?this.tiles[r][e]=1:this.tiles[r][e]=0,this.disks[r][e]=new he(r,e,"투명")}this.setDisk(this.width/2,this.height/2,"TEAM1",t),this.setDisk(this.width/2+1,this.height/2,"TEAM2",s),this.setDisk(this.width/2,this.height/2+1,"TEAM2",s),this.setDisk(this.width/2+1,this.height/2+1,"TEAM1",t)}setDisk(t,s,r,e,n=!0){const a=this.disks[t][s],c=a.team_tag,p=a.disk_color;this.disks[t][s].disk_color=e,this.disks[t][s].team_tag=r,this.counter[r]+=1,c&&(this.counter[c]-=1),n&&this.parent.emit("SET",t,s,p,e)}putDisk(t,s,r,e){const n=this.canPutDisk(t,s,r,e);return n.length===0?(this.parent.emit("PUT_FAIL"),!1):(this.setDisk(t,s,r,e),n.forEach(a=>{this.setDisk(a.x,a.y,r,e)}),this.parent.emit("PUT",t,s),!0)}canPutDisk(t,s,r,e){if(t<1||t>this.width||s<1||s>this.height)return[];if(this.disks[t][s].disk_color!=="투명")return[];const n=this.getFlippingDisk(t,s,0,-1,r,e,!0),a=this.getFlippingDisk(t,s,1,-1,r,e,!0),c=this.getFlippingDisk(t,s,1,0,r,e,!0),p=this.getFlippingDisk(t,s,1,1,r,e,!0),f=this.getFlippingDisk(t,s,0,1,r,e,!0),u=this.getFlippingDisk(t,s,-1,1,r,e,!0),l=this.getFlippingDisk(t,s,-1,0,r,e,!0),o=this.getFlippingDisk(t,s,-1,-1,r,e,!0);return[...n,...a,...c,...p,...f,...u,...l,...o]}getFlippingDisk(t,s,r,e,n,a,c=!1){if(this.tiles[s+e][t+r]!==1)return[];const f=c?[]:[this.disks[t][s]],u=this.disks[t+r][s+e];if(u.disk_color==="투명")return[];if(u.team_tag===n)return[...f];{const l=this.getFlippingDisk(t+r,s+e,r,e,n,a);return l.length>0?[...l,...f]:[]}}canPutDiskSet(t,s){const r=new Set;for(let e=1;e<=this.width;e++)for(let n=1;n<=this.height;n++)this.canPutDisk(e,n,t,s).length>0&&r.add(this.disks[e][n]);return r}}class pe extends Kt{constructor(){super(),this.default_membership_list=["1 팀","2 팀","불참"],this.start_team_list=["1 팀","2 팀","무작위"],this.teams={},this.teams.TEAM1=new Wt({name:localStorage.getItem("svsv:othello:teams:TEAM1:name")||"1 팀",timeout_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM1:timeout_index")||"0"),disk_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM1:disk_index")||"0"),put_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM1:put_index")||"0")}),this.teams.TEAM2=new Wt({name:localStorage.getItem("svsv:othello:teams:TEAM2:name")||"2 팀",timeout_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM2:timeout_index")||"2"),disk_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM2:disk_index")||"1"),put_index:parseInt(localStorage.getItem("svsv:othello:teams:TEAM2:put_index")||"1")}),this._members={},this.default_membership_index=parseInt(localStorage.getItem("svsv:othello:default_membership_index")||"1"),this.start_team_index=parseInt(localStorage.getItem("svsv:othello:start_team_index")||"2"),this.game_board=new ue(this)}get members(){return this._members}get default_membership(){return this.default_membership_list[this.default_membership_index]}get start_team(){return this.start_team_list[this.start_team_index]}nextTeamTimeout(t,s){this.teams[t].nextTimeout(s),localStorage.setItem(`svsv:othello:teams:${t}:timeout_index`,this.teams[t].timeout_index.toString()),this.emit("teams:timeout",t,this.teams[t].timeout)}nextTeamDisk(t,s){this.teams[t].nextDisk(s),localStorage.setItem(`svsv:othello:teams:${t}:disk_index`,this.teams[t].disk_color_index.toString()),this.emit("teams:disk",t,this.teams[t].disk_color)}nextTeamPut(t,s){this.teams[t].nextPut(s),localStorage.setItem(`svsv:othello:teams:${t}:put_index`,this.teams[t].put_index.toString()),this.emit("teams:put",t,this.teams[t].put)}nextDefaultMembership(t){this.default_membership_index=(this.default_membership_index+this.default_membership_list.length+t)%this.default_membership_list.length,localStorage.setItem("svsv:othello:default_membership_index",this.default_membership_index.toString()),this.emit("default_membership",this.default_membership)}nextStartTeam(t){this.start_team_index=(this.start_team_index+this.start_team_list.length+t)%this.start_team_list.length,localStorage.setItem("svsv:othello:start_team_index",this.start_team_index.toString()),this.emit("start_team",this.start_team)}setMemberShip(t,s){this._members[t]=s??this._members[t]??"기본값",this.emit("members",t,this._members[t])}clearMemberShip(){this._members={}}}const k=new pe,Lt=(m,t)=>[`${String.fromCharCode(m+65-1)}`,`${t}`],Dt=m=>{let t=-1,s=-1;return/^[a-z]\d+.*/.test(m)?(t=m[0].charCodeAt(0)-97+1,s=parseInt(m.slice(1))):/^[A-Z]\d+.*/.test(m)&&(t=m[0].charCodeAt(0)-65+1,s=parseInt(m.slice(1))),[t,s]},Vt=m=>{switch(m){case N.TEAM1:return B.TEAM1;case N.TEAM2:return B.TEAM2;case N.DEFAULT:case N.NONE:return}};class Xt extends z.GameObjects.Container{constructor(t,s,r,e,n,a){super(t,s,r),this.disk_set=new Set,this.chat_nickname_list=[],this.chat_position_list=[],this.chat_flag=new Set,this.vote={},t.add.existing(this),this.team_tag=a;const c=e/50,p=d.style.font_style.fontSize,f=t.add.graphics().lineStyle(c,d.style.color.grey_f).strokeRect(0,0,e,n);this.add(f);const u=p,l=t.add.text(e/2,u,k.teams[a].name,{...d.style.font_style}).setOrigin(.5);this.add(l);const o=u+p*2,h=k.teams[a].disk_color===q.WHITE?0:6,_=t.add.sprite(e*1/4,o,"Othello:assets",h).setScale(d.SCALE).setOrigin(.5),g=k.game_board.counter[a],y=t.add.text(e*2/3,o,g.toString(),{...d.style.font_style,fontSize:p*(.8+1.2*g/64)}).setOrigin(.5);this.add([_,y]);const v=o+p*2,C=t.add.text(e*2/5,v,"남은 시간",{...d.style.font_style,fontSize:p*2/3}).setOrigin(.5),b=k.teams[a].timeout<0?"무제한":`${k.teams[a].timeout} 초`;this.timer_text=t.add.text(e*2/5,v+p,b,{...d.style.font_style,color:d.style.color_code.green_f}).setOrigin(.5),this.pass_text=t.add.text(e*3/4,v,`턴
종
료`,{...d.style.font_style,fontSize:p*2/3,color:d.style.color_code.pink_a}).setOrigin(0,.2).setInteractive().on("pointerup",()=>{this.timer_event.repeatCount=0,this.scene.sound.play("Common:sound:select",{volume:d.volume_effect})}).on("pointerover",()=>{this.pass_text.setColor(d.style.color_code.pink_f)}).on("pointerout",()=>{this.pass_text.setColor(d.style.color_code.pink_a)}),this.add([C,this.timer_text,this.pass_text]),this.timer_event=t.time.addEvent({}),t.events.on("shutdown",()=>{t.time.removeEvent(this.timer_event)});const T=p/4,S=v+p*2,x=e-2*T,w=n-S-T,E=c/2,F=t.add.graphics().lineStyle(E,d.style.color.grey_f).strokeRect(T,S,x,w);this.add([F]);const O=T+p/8,M=11;this.chat_font_size=p/2,this.chat_nickname_width=x-this.chat_font_size*2.5;for(let L=0;L<M;L++){const ft=t.add.text(O,S+this.chat_font_size*L*1.1,"nickname",{...d.style.font_style,fontSize:this.chat_font_size}).setCrop(0,0,this.chat_nickname_width,this.chat_font_size),mt=t.add.text(O+this.chat_nickname_width+this.chat_font_size*2/3,S+this.chat_font_size*L*1.1,"A1",{...d.style.font_style,fontSize:this.chat_font_size});this.chat_nickname_list.push(ft),this.chat_position_list.push(mt)}this.add([...this.chat_nickname_list,...this.chat_position_list]),this.cover=t.add.rectangle(-E,-E,e+2*E,n+2*E,d.style.color.grey_0,.5).setOrigin(0),this.add(this.cover);const D=()=>{const L=k.game_board.counter[a];y.setText(L.toString()).setFontSize(p*(.8+1.2*L/64))};k.on(Z.SET,D),t.events.on("shutdown",()=>{k.off(Z.SET,D)}),this.clearChat()}onstartturn(t,s){this.cover.visible=!1,this.disk_set=t,this.scene.time.removeEvent(this.timer_event),this.vote={},this.timer_event=this.scene.time.addEvent({delay:(d.DEBUG,1e3),repeat:k.teams[this.team_tag].timeout,callback:()=>{if(this.timer_text.setText(k.teams[this.team_tag].timeout<0?"무제한":`${this.timer_event.repeatCount-1} 초`),this.timer_event.repeatCount>6?this.timer_text.setColor(d.style.color_code.green_f).setScale(1):this.timer_text.setColor(d.style.color_code.pink_f).setScale(1.3),this.timer_event.repeatCount===0){const r=k.teams[this.team_tag].timeout<0?"무제한":`${k.teams[this.team_tag].timeout} 초`;this.timer_text.setText(r).setColor(d.style.color_code.green_f).setScale(1),s(this.team_tag,this.disk_set,this.vote)}}}),this.clearChat()}onendturn(){this.timer_event.paused=!0,this.cover.visible=!0}clearChat(){this.chat_nickname_list.forEach(t=>t.setText("").setVisible(!1)),this.chat_position_list.forEach(t=>t.setText("").setVisible(!1)),this.chat_flag=new Set}addChat(t,s,r,e,n){if(this.chat_flag.has(t))return;this.chat_flag.add(t);const[a,c]=Lt(r,e),p=a+c;this.vote[p]?this.vote[p]+=1:this.vote[p]=1,n.setText(`${this.vote[p]}`).setVisible(!0),this.chat_nickname_list.forEach((f,u)=>{u===this.chat_nickname_list.length-1?f.setText(s).setCrop(0,0,this.chat_nickname_width,this.chat_font_size).setVisible(!0):f.setText(this.chat_nickname_list[u+1].text).setCrop(0,0,this.chat_nickname_width,this.chat_font_size).setVisible(!0)}),this.chat_position_list.forEach((f,u)=>{u===this.chat_position_list.length-1?f.setText(p).setVisible(!0):f.setText(this.chat_position_list[u+1].text).setVisible(!0)})}endGame(){this.timer_event.paused=!0}}const wt=class wt extends z.Scene{constructor(){super(wt.key),this.tiles=[],this.disks=[],this.votes=[],this.team_panels={},this.curr_turn=B.TEAM1,this.prev_pass=!1,this.is_end=!1}static preload(t){t.anims.create({key:`${q.WHITE}-${q.BLACK}`,frames:t.anims.generateFrameNumbers("Othello:assets",{start:0,end:6})}),t.anims.create({key:`${q.BLACK}-${q.WHITE}`,frames:t.anims.generateFrameNumbers("Othello:assets",{start:6,end:12})})}create(){const t=d.WIDTH/(k.game_board.width+2),s=d.HEIGHT/(k.game_board.height+2),r=Math.min(t,s)/32,e=d.HEIGHT/20;this.add.text(d.WIDTH/2,e,"스트리머 vs 시청자",{...d.style.font_style,color:d.style.color_code.green_f}).setOrigin(.5,0);const n=0,a=d.HEIGHT/20;this.back_text=this.add.text(n,a,`종
료`,{...d.style.font_style,color:d.style.color_code.pink_a}).setOrigin(.5,0).setInteractive().on("pointerup",()=>{this.sound.play("Common:sound:exit",{volume:d.volume_effect}),this.scene.start(ht.key)}).on("pointerover",()=>{this.back_text.setColor(d.style.color_code.pink_f),this.back_text.setOrigin(0,0)}).on("pointerout",()=>{this.is_end||(this.back_text.setColor(d.style.color_code.pink_a),this.back_text.setOrigin(.5,0))});const c=32*r,p=32*r,f=(d.WIDTH-c*(k.game_board.width+2))/2,u=p/2+d.style.font_style.fontSize-32*r/2,l=d.style.color.green_a,o=d.style.color.green_f;for(let x=0;x<k.game_board.width+2;x++){this.tiles[x]=[],this.disks[x]=[],this.votes[x]=[];for(let w=0;w<k.game_board.height+2;w++){const E=f+x*c,F=u+w*p;switch(k.game_board.tiles[x][w]){case Bt.EMPTY:this.tiles[x][w]=this.add.sprite(E,F,"Othello:assets",16).setOrigin(0).setScale(r).setTint(l).setToBack();const Mt=this.add.graphics().lineStyle(2*r,o).strokeRoundedRect(E,F,c,p,2*r);Mt.visible=!1,this.tiles[x][w].setInteractive().on("pointerup",()=>{k.teams[this.curr_turn].put===it.CLICK&&k.game_board.putDisk(x,w,this.curr_turn,k.teams[this.curr_turn].disk_color)}).on("pointerover",()=>{Mt.visible=!0}).on("pointerout",()=>{Mt.visible=!1});break;case Bt.WALL:let K;if(x==0)w==0?K=21:w==k.game_board.height+1?K=23:K=17;else if(x==k.game_board.width+1)w==0?K=22:w==k.game_board.height+1?K=24:K=18;else if(w==0)K=19;else if(w==k.game_board.height+1)K=20;else break;this.tiles[x][w]=this.add.sprite(E,F,"Othello:assets",K).setOrigin(0).setScale(r).setTint(l).setToBack();break}const M=k.game_board.disks[x][w];let D=13;switch(M.disk_color){case q.WHITE:D=0;break;case q.BLACK:D=6;break;case q.NONE:D=13;break}this.disks[x][w]=this.add.sprite(E,F,"Othello:assets",D).setOrigin(0).setScale(r),this.votes[x][w]=this.add.text(E+c/2,F+p/2,"0",{...d.style.font_style,fontSize:d.style.font_style.fontSize*2/3,backgroundColor:d.style.color_code.green_a}).setOrigin(.5).setVisible(!1);const L={...d.style.font_style,fontSize:d.style.font_style.fontSize*2/3,color:d.style.color_code.green_a},[ft,mt]=Lt(x,w);x===0&&w>0&&w<k.game_board.height+1&&this.add.text(E+c*3/4,F+p/2,mt,L).setOrigin(.5),w===0&&x>0&&x<k.game_board.width+1&&this.add.text(E+c/2,F+p*3/4,ft,L).setOrigin(.5),x===k.game_board.width+1&&w>0&&w<k.game_board.height+1&&this.add.text(E+c*1/4,F+p/2,mt,L).setOrigin(.5),w===k.game_board.height+1&&x>0&&x<k.game_board.width+1&&this.add.text(E+c/2,F+p*1/4,ft,L).setOrigin(.5)}}const i=c/2,h=u+p,_=(d.WIDTH-c*(k.game_board.width+3))/2,g=d.HEIGHT-(h+p/2);this.team_panels[B.TEAM1]=new Xt(this,i,h,_,g,B.TEAM1),this.team_panels[B.TEAM2]=new Xt(this,d.WIDTH-_-i,h,_,g,B.TEAM2);const y=(x,w,E,F)=>{if(E===q.NONE||E===F){const O=F===q.WHITE?0:6;this.disks[x][w].setFrame(O).setTint(d.style.color.grey_f)}else this.disks[x][w].anims.play(`${E}-${F}`)},v=(x,w)=>{if(this.curr_turn===B.TEAM1&&k.members[d.proxy.channel_id]===N.TEAM1||this.curr_turn===B.TEAM2&&k.members[d.proxy.channel_id]===N.TEAM2){const[E,F]=Lt(x,w);d.proxy.message=E+F}this.sound.play("Common:sound:open_menu",{volume:d.volume_effect}),this.nextTurn()},C=()=>{this.sound.play("Common:sound:close_menu",{volume:d.volume_effect})};k.on(Z.SET,y),k.on(Z.PUT,v),k.on(Z.PUT_FAIL,C),this.events.on("shutdown",()=>{k.off(Z.SET,y),k.off(Z.PUT,v),k.off(Z.PUT_FAIL,C)});const b=({channel_id:x,nickname:w,message:E})=>{const[F,O]=Dt(E);k.setMemberShip(x);const M=k.members[x]===N.DEFAULT?k.default_membership:k.members[x],D=Vt(M);if(D!==void 0&&this.curr_turn===D)for(const L of this.team_panels[D].disk_set)L.x===F&&L.y===O&&this.team_panels[D].addChat(x,w,F,O,this.votes[F][O])};d.on(X.CHAT,b),d.on(X.DONATION,b),this.events.on("shutdown",()=>{d.off(X.CHAT,b),d.off(X.DONATION,b)});const T=["battle1","battle2","battle3"],S=T[Math.floor(Math.random()*T.length)];switch(d.bgm=d.bgm_map["bgm:"+S+":intro"],k.start_team){case _t.TEAM1:this.setTurn(B.TEAM1);break;case _t.TEAM2:this.setTurn(B.TEAM2);break;case _t.RANDOM:const x=[B.TEAM1,B.TEAM2];this.setTurn(x[Math.round(Math.random())]);break}}putDisk(t,s,r){let e=!1;if(k.teams[t].put===it.MOST&&Object.keys(r).length>0){let n=0,a="";for(const f in r){const u=r[f];n<u?(n=u,a=f):u===n&&Math.random()<.5&&(a=f)}const[c,p]=Dt(a);e=k.game_board.putDisk(c,p,t,k.teams[t].disk_color)}else if(k.teams[t].put===it.PROPORTIONAL&&Object.keys(r).length>0){const n=[];for(const f in r)for(let u=0;u<r[f];u++)n.push(f);const a=n[Math.floor(Math.random()*n.length)],[c,p]=Dt(a);e=k.game_board.putDisk(c,p,t,k.teams[t].disk_color)}if(k.teams[t].put===it.CLICK||Object.keys(r).length===0||!e){const n=[...s][Math.floor(Math.random()*s.size)];k.game_board.putDisk(n.x,n.y,t,k.teams[t].disk_color)}}setTurn(t){const s=k.teams[t].disk_color,r=k.game_board.canPutDiskSet(t,s);if(r.size>0){this.team_panels[this.curr_turn].onendturn(),this.team_panels[t].onstartturn(r,(e,n,a)=>{this.putDisk(e,n,a)}),this.curr_turn=t,this.prev_pass=!1;for(let e=1;e<=k.game_board.width;e++)for(let n=1;n<=k.game_board.height;n++)r.has(k.game_board.disks[e][n])?this.disks[e][n].setFrame(14).setTint(d.style.color.green_a):k.game_board.disks[e][n].disk_color===q.NONE&&this.disks[e][n].setFrame(13),this.votes[e][n].setVisible(!1)}else this.prev_pass?this.endGame():(this.prev_pass=!0,this.setTurn(this.curr_turn))}nextTurn(){const t=this.curr_turn===B.TEAM1?B.TEAM2:B.TEAM1;this.setTurn(t)}endGame(){for(let r=1;r<=k.game_board.width;r++)for(let e=1;e<=k.game_board.height;e++)k.game_board.disks[r][e].disk_color===q.NONE&&this.disks[r][e].setFrame(13);const t=Vt(k.members[d.proxy.channel_id]),s=t===B.TEAM1?B.TEAM2:B.TEAM1;if(!t)d.bgm=d.bgm_map["bgm:victory:intro"];else{const r=k.game_board.counter[t],e=k.game_board.counter[s];r/2>e?d.bgm=d.bgm_map["bgm:victory2:intro"]:r>e?d.bgm=d.bgm_map["bgm:victory:intro"]:r===e?d.bgm=d.bgm_map["bgm:draw:intro"]:r*2>e?d.bgm=d.bgm_map["bgm:defeat:intro"]:d.bgm=d.bgm_map["bgm:defeat2:intro"]}this.team_panels[B.TEAM1].endGame(),this.team_panels[B.TEAM2].endGame(),this.is_end=!0,this.back_text.setColor(d.style.color_code.pink_f),this.back_text.setOrigin(0,0)}};wt.key="OthelloGameScene";let lt=wt;class Rt extends z.GameObjects.Container{constructor(t,s,r){super(t,s,r),t.add.existing(this)}}class de extends Rt{constructor(t,s,r,e,{label:n="label",value:a="value"}){super(t,s,r);const c=e*1/10,p=this.scene.add.text(c,0,n,{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5,0).setPadding(d.style.font_padding);this.add(p);const f=e*6/10;this.value_text=this.scene.add.text(f,0,a,{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5,0).setPadding(d.style.font_padding),this.add(this.value_text),this.scene.add.graphics()}}class fe extends Rt{constructor(t,s,r,e,{label:n="label",value:a="value",on_left_button_click:c,on_right_button_click:p}){super(t,s,r);const f=e*1/10,u=this.scene.add.text(f,0,n,{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5,0).setPadding(d.style.font_padding);this.add(u);const l=e*6/10;this.value_text=this.scene.add.text(l,0,a,{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5,0).setPadding(d.style.font_padding),this.add(this.value_text);const o=e*3/10,i=this.scene.add.sprite(o,0,"Common:button_header").setOrigin(.5,.25).setScale(d.SCALE).setFlipX(!0).setTint(d.style.color.grey_a).setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),c==null||c()}).on("pointerover",()=>{i.setTint(d.style.color.grey_4)}).on("pointerout",()=>{i.setTint(d.style.color.grey_a)}),h=e*9/10,_=this.scene.add.sprite(h,0,"Common:button_header").setOrigin(.5,.25).setScale(d.SCALE).setTint(d.style.color.grey_a).setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),p==null||p()}).on("pointerover",()=>{_.setTint(d.style.color.grey_4)}).on("pointerout",()=>{_.setTint(d.style.color.grey_a)});this.add([i,_])}setValueText(t){this.value_text.setText(t)}}class me extends Rt{constructor(t,s,r,e,n,{height:a}){super(t,s,r),this.page_index=0,this.page_count=1,this.users=[],this.nicknames=[],this.users_flag=new Set,this.per_page=16,this.nickname_text=[],this.team_text=[];const c=e/200,p=t.add.graphics().lineStyle(c*2,8947848).strokeRect(-c,-c,e+2*c,n+2*c);this.add(p);const f=l=>{switch(l){case N.DEFAULT:return N.TEAM1;case N.TEAM1:return N.TEAM2;case N.TEAM2:return N.NONE;case N.NONE:return N.DEFAULT}};this.font_size=d.style.font_style.fontSize,this.nickname_text_width=e*8/20;for(let l=0;l<this.per_page/2;l++)for(let o=0;o<2;o++){(l+o)%2&&this.add(t.add.graphics().fillStyle(d.style.color.grey_f).fillRect(e*o/2,this.font_size*l,e/2,this.font_size));const i=t.add.text((e*o+e*1/20)/2,this.font_size*(l+.5),"nickname",{...d.style.font_style,color:d.style.color_code.grey_0}).setScale(.8).setOrigin(0,.5).setCrop(0,0,this.nickname_text_width,this.font_size);this.nickname_text.push(i);const h=t.add.text((e*o+e*15/20)/2+this.font_size,this.font_size*(l+.5),N.TEAM1,{...d.style.font_style,color:d.style.color_code.green_f}).setScale(.8).setOrigin(.5,.5).setTint(d.style.color.grey_a);h.setInteractive().on("pointerup",()=>{const _=this.page_index*this.per_page+2*l+o,g=this.users[_];this.nicknames[_];const y=k.members[g],v=f(y);k.setMemberShip(g,v),this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),h.setText(v)}).on("pointerover",()=>{h.setTint(d.style.color.grey_4)}).on("pointerout",()=>{h.setTint(d.style.color.grey_a)}),this.team_text.push(h)}this.add(this.nickname_text),this.add(this.team_text);const u=n+d.style.font_style.fontSize/2;this.page_text=t.add.text(e/2,u,` ${this.page_index} / ${this.page_count} `,{...d.style.font_style,backgroundColor:d.style.color_code.grey_0}).setOrigin(.5,0),this.add(this.page_text),this.left_button=t.add.sprite(e*2/6,u,"Common:button_header").setTint(d.style.color.grey_a).setOrigin(.5,.25).setScale(d.SCALE).setFlipX(!0),this.left_button.setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),this.movePage(-1)}).on("pointerover",()=>{this.left_button.setTint(d.style.color.grey_4)}).on("pointerout",()=>{this.left_button.setTint(d.style.color.grey_a)}),this.right_button=t.add.sprite(e*4/6,u,"Common:button_header").setTint(d.style.color.grey_a).setOrigin(.5,.25).setScale(d.SCALE),this.right_button.setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),this.movePage(1)}).on("pointerover",()=>{this.right_button.setTint(d.style.color.grey_4)}).on("pointerout",()=>{this.right_button.setTint(d.style.color.grey_a)}),this.add([this.left_button,this.right_button]),this.addUser(d.proxy.channel_id,d.proxy.nickname??"방장")}addUser(t,s){this.users_flag.has(t)||(this.users.push(t),this.nicknames.push(s),this.users_flag.add(t),k.setMemberShip(t,d.proxy.channel_id===t?N.TEAM1:N.DEFAULT),this.page_count=Math.ceil(this.users.length/this.per_page),this.page_text.setText(` ${this.page_index+1} / ${this.page_count} `),this.updateTable())}movePage(t){this.page_index=Math.max(0,Math.min(this.page_count-1,this.page_index+t)),this.page_text.setText(` ${this.page_index+1} / ${this.page_count} `),this.updateTable()}updateTable(){for(let t=0;t<this.per_page;t++){const s=this.nickname_text[t],r=this.team_text[t],e=this.per_page*this.page_index+t,n=this.users[e],a=this.nicknames[e],c=k.members[n];a?(s.setText(a).setCrop(0,0,this.nickname_text_width,this.font_size).setVisible(!0),r.setText(c).setVisible(!0)):(s.setVisible(!1),r.setVisible(!1))}}}class Ut extends z.GameObjects.Container{constructor(t,s,r){super(t),this.option_count=0,this._selected=!1,this.onselect=()=>{},this.onunselect=()=>{},this.scene.add.existing(this);const e=d.WIDTH/20,n=d.HEIGHT/20;this.round=d.WIDTH/100,this.tag_width=d.WIDTH*9/10/5,this.tag_height=d.style.font_style.fontSize*2,this.tag_x_offset=e+r*this.tag_width,this.tag_y_offset=n,this.tag_background=t.add.graphics(),this.add(this.tag_background);const a=t.add.zone(this.tag_x_offset,this.tag_y_offset,this.tag_width,this.tag_height).setOrigin(0).setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),this.select=!0}).on("pointerover",()=>{this._selected||this.tag_background.fillStyle(d.style.color.grey_a).fillRoundedRect(this.tag_x_offset,this.tag_y_offset,this.tag_width,this.tag_height*2,this.round)}).on("pointerout",()=>{this._selected||this.tag_background.fillStyle(d.style.color.grey_6).fillRoundedRect(this.tag_x_offset,this.tag_y_offset,this.tag_width,this.tag_height*2,this.round)});this.add(a),this.tag_text_x_offset=e+this.tag_width/2+r*this.tag_width,this.tag_text_y_offset=this.tag_y_offset+this.tag_height/2,this.tag_text=t.add.text(this.tag_text_x_offset,this.tag_text_y_offset,s,d.style.font_style).setOrigin(.5).setPadding(d.style.font_padding),this.add(this.tag_text),this.panel_x_offset=e,this.panel_y_offset=this.tag_y_offset+this.tag_height,this.panel_width=d.WIDTH*9/10,this.panel_height=d.HEIGHT*9/10-this.panel_y_offset+n,this.panel_background=t.add.graphics().fillStyle(d.style.color.grey_e).fillRoundedRect(this.panel_x_offset,this.panel_y_offset,this.panel_width,this.panel_height,this.round),this.add(this.panel_background);const c=t.add.zone(this.panel_x_offset,this.panel_y_offset,this.panel_width,this.panel_height).setOrigin(0).setInteractive();this.add(c),this.select=!1}getOptionPosition(t=1){const s=this.panel_x_offset+this.panel_width/20,r=this.panel_y_offset+this.panel_height/20+this.option_count*d.style.font_style.fontSize*2,e=d.WIDTH-2*s,n=t*d.style.font_style.fontSize*2;return{option_x_offset:s,option_y_offset:r,option_width:e,option_height:n}}addTextOption({label:t,value:s}){const{option_x_offset:r,option_y_offset:e,option_width:n}=this.getOptionPosition();this.option_count+=1;const a=new de(this.scene,r,e,n,{label:t,value:s});return this.add(a),a}addListOption({label:t,value:s,on_left_button_click:r,on_right_button_click:e}){const{option_x_offset:n,option_y_offset:a,option_width:c}=this.getOptionPosition();this.option_count+=1;const p=new fe(this.scene,n,a,c,{label:t,value:s,on_left_button_click:r,on_right_button_click:e});return this.add(p),p}addPageOption({height:t=1}){const{option_x_offset:s,option_y_offset:r,option_width:e,option_height:n}=this.getOptionPosition(t);this.option_count+=t;const a=new me(this.scene,s,r,e,n,{height:t});return this.add(a),a}set select(t){t?(this.tag_background.fillStyle(d.style.color.grey_e).fillRoundedRect(this.tag_x_offset,this.tag_y_offset,this.tag_width,this.tag_height*2,this.round),this.tag_text.setTint(d.style.color.grey_0),this.setToTop(),this.onselect()):(this.tag_background.fillStyle(d.style.color.grey_6).fillRoundedRect(this.tag_x_offset,this.tag_y_offset,this.tag_width,this.tag_height*2,this.round),this.tag_text.setTint(d.style.color.grey_f),this.onunselect()),this._selected=t}}class Gt extends Ut{constructor(t,s,r,e){super(t,e,r),this.addTextOption({label:"팀명",value:k.teams[s].name});const n=k.teams[s].timeout<0?"무제한":`${k.teams[s].timeout} 초`,a=this.addListOption({label:"제한시간",value:n,on_left_button_click:()=>{k.nextTeamTimeout(s,-1)},on_right_button_click:()=>{k.nextTeamTimeout(s,1)}}),c=this.addListOption({label:"색깔",value:k.teams[s].disk_color,on_left_button_click:()=>{k.nextTeamDisk(s,-1)},on_right_button_click:()=>{k.nextTeamDisk(s,1)}}),p=this.addListOption({label:"놓는방식",value:k.teams[s].put,on_left_button_click:()=>{k.nextTeamPut(s,-1)},on_right_button_click:()=>{k.nextTeamPut(s,1)}}),f=(o,i)=>{if(s===o){const h=i<0?"무제한":`${i} 초`;a.setValueText(h)}},u=(o,i)=>{s===o&&c.setValueText(i)},l=(o,i)=>{s===o&&p.setValueText(i)};k.on("teams:timeout",f),k.on("teams:disk",u),k.on("teams:put",l),this.scene.events.on("shutdown",()=>{k.off("teams:timeout",f),k.off("teams:disk",u),k.off("teams:put",l)})}}class ge extends Ut{constructor(t,s){super(t,"팀원",s);const r=this.addListOption({label:"기본값",value:k.default_membership,on_left_button_click:()=>k.nextDefaultMembership(-1),on_right_button_click:()=>k.nextDefaultMembership(1)}),e=this.addPageOption({height:4}),n=c=>{r.setValueText(c)};k.on("default_membership",n);const a=({channel_id:c,nickname:p,message:f})=>{e.addUser(c,p)};d.on(X.CHAT,a),d.on(X.DONATION,a),t.events.on("shutdown",()=>{k.off("default_membership",n),d.off(X.CHAT,a),d.off(X.DONATION,a)})}}class ye extends Ut{constructor(t,s,r){super(t,"리버시",s),this.tag_text.setColor(d.style.color_code.green_f);const e=this.addListOption({label:"누구부터",value:k.start_team,on_left_button_click:()=>k.nextStartTeam(-1),on_right_button_click:()=>k.nextStartTeam(1)}),n=this.scene.add.text(this.panel_x_offset+this.panel_width/2,this.panel_y_offset+this.panel_height/2,"드가자!",{...d.style.font_style,fontSize:d.style.font_style.fontSize*2,color:d.style.color_code.green_a}).setOrigin(.5).setInteractive().on("pointerup",()=>{this.scene.sound.play("Common:sound:shop",{volume:d.volume_effect}),r()}).on("pointerover",()=>{n.setColor(d.style.color_code.grey_4)}).on("pointerout",()=>{n.setColor(d.style.color_code.green_a)});this.add(n);const a=c=>{e.setValueText(c)};k.on("start_team",a),this.scene.events.on("shutdown",()=>{k.off("start_team",a)})}}const Tt=class Tt extends z.Scene{constructor(){super(Tt.key),this.startGameScene=()=>{k.game_board.init(k.teams[B.TEAM1].disk_color,k.teams[B.TEAM2].disk_color),this.scene.start(lt.key)}}create(){d.bgm=d.bgm_map["bgm:login:intro"],k.clearMemberShip();const t=new Gt(this,B.TEAM1,0,N.TEAM1),s=new Gt(this,B.TEAM2,1,N.TEAM2),r=new ge(this,2.5),e=new ye(this,4,this.startGameScene),n=0,a=d.HEIGHT/20,c=this.add.text(n,a,`뒤
로`,{...d.style.font_style,color:d.style.color_code.pink_a,backgroundColor:d.style.color_code.grey_0}).setOrigin(.5,0).setInteractive().on("pointerup",()=>{this.sound.play("Common:sound:exit",{volume:d.volume_effect}),this.scene.start(ut.key)}).on("pointerover",()=>{c.setColor(d.style.color_code.pink_f),c.setOrigin(0,0)}).on("pointerout",()=>{c.setColor(d.style.color_code.pink_a),c.setOrigin(.5,0)});t.onselect=()=>{s.select=!1,r.select=!1,e.select=!1},s.onselect=()=>{t.select=!1,r.select=!1,e.select=!1},r.onselect=()=>{t.select=!1,s.select=!1,e.select=!1},e.onselect=()=>{t.select=!1,s.select=!1,r.select=!1},t.select=!0}};Tt.key="OthelloSettingScene";let ht=Tt;const ct=class ct extends Pt{static preload(t){t.anims.create({key:ct.game_logo_animation_key,frames:t.anims.generateFrameNumbers("Othello:assets",{start:32,end:44}),duration:this.animation_duration,repeat:-1,repeatDelay:this.animation_duration*2,delay:this.animation_duration*Math.random()*2})}constructor(t,s,r,e,n){super(t,s,r,e,n),this.scene=t;const a=this.scene.add.sprite(0,0,"Othello:assets",32);super.init("오델로",a,ct.game_logo_animation_key)}onpointerup(){this.scene.sound.play("Common:sound:pause",{volume:d.volume_effect}),this.scene.scene.start(ht.key)}};ct.game_logo_animation_key="OthelloSelectGameButton:animation";let vt=ct;const zt="2025.06.23.1830",St=class St extends z.Scene{constructor(){super(St.key)}create(){const t=d.HEIGHT/20;this.add.text(d.WIDTH/2,t,"스트리머 vs 시청자",{...d.style.font_style,color:d.style.color_code.green_f}).setOrigin(.5,0);const s=d.WIDTH*.2,r=d.HEIGHT*.5,e=[vt].map((h,_)=>new h(this,d.WIDTH*(1/2+_*3/10),d.HEIGHT/2,s,r)),n=s,a=r,c=d.WIDTH*.3,p=this.add.zone(d.WIDTH/2-c,d.HEIGHT/2,n,a).setOrigin(.5),f=this.add.zone(d.WIDTH/2,d.HEIGHT/2,n,a).setOrigin(.5),u=this.add.zone(d.WIDTH/2+c,d.HEIGHT/2,n,a).setOrigin(.5);this.add.text(0,d.HEIGHT,zt,{...d.style.font_style}).setOrigin(0,1);const l=(h,_,g)=>{h<0||h>=e.length||(e[h].centered=_,e[h].pointerover=g)},o=(h,_,g)=>{h<0||h>=e.length||(e[h].centered=_,e[h].pointerover=g)};let i=0;p.setInteractive().on("pointerup",()=>{i!==0&&e.forEach((h,_)=>{h.setPosition(h.x+c,h.y),h.centered=i-1==_,h.pointerover=i-2==_}),i=Math.max(i-1,0)}).on("pointerdown",()=>{}).on("pointerover",()=>{i>0&&this.sound.play("Common:sound:cancel",{volume:d.volume_effect}),l(i-1,!1,!0)}).on("pointerout",()=>{o(i-1,!1,!1)}),f.setInteractive().on("pointerup",()=>{e[i].onpointerup()}).on("pointerdown",()=>{e[i].onpointerdown()}).on("pointerover",()=>{this.sound.play("Common:sound:cancel",{volume:d.volume_effect}),l(i,!0,!0)}).on("pointerout",()=>{o(i,!0,!1)}),u.setInteractive().on("pointerup",()=>{i!==e.length-1&&e.forEach((h,_)=>{h.setPosition(h.x-c,h.y),h.centered=i+1==_,h.pointerover=i+2==_}),i=Math.min(i+1,e.length-1)}).on("pointerdown",()=>{}).on("pointerover",()=>{i<e.length-1&&this.sound.play("Common:sound:cancel",{volume:d.volume_effect}),l(i+1,!1,!0)}).on("pointerout",()=>{o(i+1,!1,!1)}),e[i].centered=!0}};St.key="SelectGameScene";let ut=St;const At=class At extends z.Scene{constructor(){super(At.key)}preload(){this.load.spritesheet("Othello:assets","assets/Games/Othello/Othello.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("Common:button_header","assets/Common/button_header.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("Common:button_close","assets/Common/button_close.png",{frameWidth:32,frameHeight:32}),this.load.setPath("assets/Common/"),this.load.audio("bgm:battle1:intro","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/And The Journey Begins/xDeviruchi - And The Journey Begins (Intro).wav"),this.load.audio("bgm:battle1","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/And The Journey Begins/xDeviruchi - And The Journey Begins (Loop).wav"),this.load.audio("bgm:battle2:intro","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Exploring The Unknown/xDeviruchi - Exploring The Unknown (Intro).wav"),this.load.audio("bgm:battle2","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Exploring The Unknown/xDeviruchi - Exploring The Unknown (Loop).wav"),this.load.audio("bgm:battle3:intro","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Prepare for Battle!/xDeviruchi - Prepare for Battle! (Intro).wav"),this.load.audio("bgm:battle3","xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Prepare for Battle!/xDeviruchi - Prepare for Battle! (Loop).wav"),this.load.audio("bgm:victory:intro","xDeviruchi - 16 bit Fantasy & Adventure (2025)/06 - Victory!.mp3"),this.load.audio("bgm:victory2:intro","xDeviruchi - 16 bit Fantasy & Adventure (2025)/11 - The Mighty Kingdom.mp3"),this.load.audio("bgm:draw:intro","xDeviruchi - 16 bit Fantasy & Adventure (2025)/16 - The Calm Before The Storm.mp3"),this.load.audio("bgm:defeat:intro","xDeviruchi - 16 bit Fantasy & Adventure (2025)/18 - Never Give Up.mp3"),this.load.audio("bgm:defeat2:intro","xDeviruchi - 16 bit Fantasy & Adventure (2025)/10 - Lost Shrine.mp3")}create(){this.add.text(0,d.HEIGHT,zt,{...d.style.font_style}).setOrigin(0,1),vt.preload(this),lt.preload(this);for(const t of["battle1","battle2","battle3"]){const s=this.sound.add(`bgm:${t}:intro`,{volume:d.volume_bgm});s.on("complete",()=>{d.bgm=this.sound.add(`bgm:${t}`,{loop:!0,volume:d.volume_bgm})}),d.bgm_map[`bgm:${t}:intro`]=s}for(const t of["victory","victory2","draw","defeat","defeat2"]){const s=this.sound.add(`bgm:${t}:intro`,{volume:d.volume_bgm});d.bgm_map[`bgm:${t}:intro`]=s}this.scene.start(ut.key)}};At.key="PreloadScene";let bt=At;const Et=class Et extends z.Scene{constructor(){super(Et.key)}preload(){this.load.audio("select","assets/Common/SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_MenuSelections.mp3"),this.load.audio("confirm","assets/Common/SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Confirm.mp3"),this.load.audio("bgm:login:intro","assets/Common/xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Take some rest and eat some food!/xDeviruchi - Take some rest and eat some food! (Intro).wav"),this.load.audio("bgm:login","assets/Common/xDeviruchi - 8-bit Fantasy  & Adventure Music (2021)/Separated Files/Take some rest and eat some food!/xDeviruchi - Take some rest and eat some food! (Loop).wav")}async create(){const t=this.sound.add("bgm:login:intro",{volume:d.volume_bgm});t.on("complete",()=>{d.bgm=this.sound.add("bgm:login",{loop:!0,volume:d.volume_bgm})}),d.bgm_map["bgm:login:intro"]=t,d.bgm=d.bgm_map["bgm:login:intro"],this.add.text(0,d.HEIGHT,zt,{...d.style.font_style}).setOrigin(0,1);const s=d.proxy,r=this.add.text(d.WIDTH/2,d.HEIGHT*1/2,"",d.style.font_style).setOrigin(.5).setPadding(d.style.font_padding),e=this.add.text(d.WIDTH/2,d.HEIGHT*2/3,"",d.style.font_style).setOrigin(.5).setPadding(d.style.font_padding).setTint(d.style.color.green_a);s.access_token?s.connect().then(()=>{this.scene.start(bt.key)}).catch(()=>{this.clearSession(),r.setText(`
[에러] 서비스 연결에 실패했습니다.

잠시 후 재시도합니다.
`);let n=60;e.setText(`${n}초`),this.time.addEvent({delay:1e3,callback:()=>{n-=1,n==0&&window.open(d.url,"_self"),e.setText(`${n}초`)},repeat:n})}):s.code?s.createAccessToken().then(()=>{sessionStorage.setItem("svsv:proxy:access_token",s.access_token),sessionStorage.setItem("svsv:proxy:refresh_token",s.refresh_token),sessionStorage.setItem("svsv:proxy:token_type",s.token_type),sessionStorage.setItem("svsv:proxy:expires_in",s.expires_in.toString()),sessionStorage.setItem("svsv:proxy:scope",s.scope),window.open(d.url,"_self")}).catch(()=>{this.clearSession(),r.setText(`
[에러] 토큰 발급에 실패했습니다.

잠시 후 재시도합니다.
`);let n=60;e.setText(`${n}초`),this.time.addEvent({delay:1e3,callback:()=>{n-=1,n==0&&window.open(d.url,"_self"),e.setText(`${n}초`)},repeat:n})}):(r.setText(`[안내] 치지직 API 사용 권한이 필요합니다.

아래 버튼을 눌러 동의해주세요.
`),e.setText("오케이!"),e.setInteractive({cursor:"pointer"}).on("pointerover",()=>{e.setTint(d.style.color.green_f),this.sound.play("select",{volume:d.volume_effect})}).on("pointerout",()=>{e.setTint(d.style.color.green_a)}).on("pointerup",()=>{const n=d.DEBUG?"e6865229-3d57-4a2a-9cbf-98b47198a3c9":"e04f347f-43a8-4efe-a75c-48fc210f174d",a=d.url,p=`https://chzzk.naver.com/account-interlock?clientId=${n}&redirectUri=${a}&state=skills`;sessionStorage.setItem("svsv:proxy:client_id",n),sessionStorage.setItem("svsv:proxy:redirect_uri",a),this.sound.play("confirm",{volume:d.volume_effect}),window.open(p,"_self")}))}clearSession(){sessionStorage.getItem("svsv:proxy:code"),sessionStorage.getItem("svsv:proxy:state"),sessionStorage.getItem("svsv:proxy:access_token"),sessionStorage.getItem("svsv:proxy:refresh_token"),sessionStorage.getItem("svsv:proxy:token_type"),sessionStorage.getItem("svsv:proxy:expires_in"),sessionStorage.getItem("svsv:proxy:scope")}};Et.key="LoginScene";let Ct=Et;class Yt extends z.GameObjects.Container{constructor(t,s,r,e,n,a){super(t,s,r),t.add.existing(this),this.setSize(e,n).setVisible(!1),this.tag=a,this.tag_label=a.text;const c=d.WIDTH/100,p=t.add.graphics().fillStyle(d.style.color.grey_e).fillRoundedRect(0,0,e,n,c);this.add(p),this.tag.setInteractive().on("pointerup",()=>{this.toggle()}).on("pointerover",()=>{this.tag.setOrigin(1,0)}).on("pointerout",()=>{this.visible||this.tag.setOrigin(.5,0)})}toggle(t){var r;const s=t??!this.visible;this.visible!==s&&(this.setVisible(s),this.visible?(this.scene.sound.play("Common:sound:shop",{volume:d.volume_effect}),this.tag.setText(`닫
기`).setColor(d.style.color_code.pink_f)):(this.scene.sound.play("Common:sound:exit",{volume:d.volume_effect}),this.tag.setText(this.tag_label).setColor(d.style.color_code.grey_f)),(r=this.ontoggle)==null||r.call(this,this.visible))}}class _e extends Yt{constructor(t,s,r,e,n,a){super(t,s,r,e,n,a);const c=this.addRow(this.height*3/8,"마스터",d.volume_master,()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_master-=.1},()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_master+=.1}),p=this.addRow(this.height*4/8,"배경음악",d.volume_bgm,()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_bgm-=.1},()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_bgm+=.1}),f=this.addRow(this.height*5/8,"효과음",d.volume_effect,()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_effect-=.1},()=>{this.scene.sound.play("Common:sound:cancel",{volume:d.volume_effect}),d.volume_effect+=.1});d.on(X.VOLUME_MASTER,()=>{c.setText((d.volume_master*10).toFixed(0))}),d.on(X.VOLUME_BGM,()=>{p.setText((d.volume_bgm*10).toFixed(0))}),d.on(X.VOLUME_EFFECT,()=>{f.setText((d.volume_effect*10).toFixed(0))})}addRow(t,s,r,e,n){const a=this.width*1/3,c=this.width*2/3,p=c-this.width/10,f=c+this.width/10,u=this.scene.add.text(a,t,s,{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5),l=this.scene.add.text(p,t,"-",{...d.style.font_style,color:d.style.color_code.green_a}).setOrigin(.5).setInteractive().on("pointerup",()=>{e()}).on("pointerover",()=>{l.setColor(d.style.color_code.grey_4)}).on("pointerout",()=>{l.setColor(d.style.color_code.green_a)}),o=this.scene.add.text(f,t,"+",{...d.style.font_style,color:d.style.color_code.green_a}).setOrigin(.5).setInteractive().on("pointerup",()=>{n()}).on("pointerover",()=>{o.setColor(d.style.color_code.grey_4)}).on("pointerout",()=>{o.setColor(d.style.color_code.green_a)}),i=this.scene.add.text(c,t,(r*10).toFixed(0),{...d.style.font_style,color:d.style.color_code.grey_0}).setOrigin(.5);return this.add([u,l,o,i]),i}}class ve extends Yt{constructor(t,s,r,e,n,a){super(t,s,r,e,n,a);const c=this.width*1/4,p=this.width*2/4,f=this.width*3/4,u=e/7,l=n/7;let o=0;this.addText(c,u+o*l,"기획/개발/그림",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addText(p,u+o*l,"실력발휘",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addLogo(f,u+o*l,"credit:logo:github","https://github.com/ShowSkillsSpark"),this.addLogo(f+90,u+o*l,"credit:logo:youtube","https://www.youtube.com/@%EC%8B%A4%EB%A0%A5%EB%B0%9C%ED%9C%98"),this.addLogo(f+240,u+o*l,"credit:logo:toon","https://toon.at/donate/skill"),o+=1,this.addText(c,u+o*l,"배경음악",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addText(p,u+o*l,"xDeviruchi",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addLogo(f,u+o*l,"credit:logo:itch","https://itch.io/profile/xdeviruchi"),this.addLogo(f+90,u+o*l,"credit:logo:youtube","https://www.youtube.com/channel/UC-co0iNy2WkUNHCtQZUHQIg"),o+=1,this.addText(c,u+o*l,"효과음",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addText(p,u+o*l,"SoupTonic",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addLogo(f,u+o*l,"credit:logo:itch","https://itch.io/profile/souptonic"),o+=1,this.addText(c,u+o*l,"폰트",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addText(p,u+o*l,"둥근모꼴+ Fixedsys",{...d.style.font_style,color:d.style.color_code.grey_0}),this.addLogo(f,u+o*l,"credit:logo:link","https://cactus.tistory.com/193")}addText(t,s,r,e){const n=this.scene.add.text(t,s,r,e).setOrigin(.5);return this.add(n),n}addLogo(t,s,r,e){const n=this.scene.add.image(t,s,r).setOrigin(.5),c=d.style.font_style.fontSize/n.height;return n.setScale(c).setInteractive({cursor:"pointer"}).on("pointerup",()=>{window.open(e,"_blank")}),this.add([n]),n}}const Ft=class Ft extends z.Scene{constructor(){super(Ft.key)}preload(){this.load.setPath("assets/Common/Sidebar/"),this.load.image("credit:logo:github","github-mark.svg"),this.load.image("credit:logo:itch","itchio-textless-black.svg"),this.load.image("credit:logo:link","link_32dp.svg"),this.load.image("credit:logo:toon","toonation-symbol.png"),this.load.image("credit:logo:youtube","yt_logo_mono_light.png")}create(){const t=d.WIDTH/20,s=d.HEIGHT/20,r=d.WIDTH*9/10,e=d.HEIGHT*9/10,n=this.add.zone(0,0,d.WIDTH,d.HEIGHT).setOrigin(0).setVisible(!1).setInteractive().on("pointerup",()=>{}),a=this.add.text(d.WIDTH,s,`소
리`,{...d.style.font_style,backgroundColor:d.style.color_code.grey_0}).setOrigin(.5,0),c=new _e(this,t,s,r,e,a),p=this.add.text(d.WIDTH,s+a.height,`제
공`,{...d.style.font_style,backgroundColor:d.style.color_code.grey_0}).setOrigin(.5,0),f=new ve(this,t,s,r,e,p),u=[c,f];c.ontoggle=l=>{if(l)f.toggle(!1),n.visible=!0;else{for(const o of u)o.visible&&(n.visible=!0);n.visible=!1}},f.ontoggle=l=>{if(l)c.toggle(!1),n.visible=!0;else{for(const o of u)o.visible&&(n.visible=!0);n.visible=!1}}}};Ft.key="SidebarScene";let xt=Ft;const It=class It extends z.Scene{constructor(){super(It.key)}preload(){this.load.font("DungGeunMo","https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/DungGeunMo.woff"),this.load.setPath("assets/Common/"),this.load.audio("Common:sound:cancel","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Cancel.mp3"),this.load.audio("Common:sound:confirm","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Confirm.mp3"),this.load.audio("Common:sound:select","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_MenuSelections.mp3"),this.load.audio("Common:sound:open_menu","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_OpenMenu.mp3"),this.load.audio("Common:sound:close_menu","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_CloseMenu.mp3"),this.load.audio("Common:sound:exit","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Exit.mp3"),this.load.audio("Common:sound:pause","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Pause.mp3"),this.load.audio("Common:sound:resume","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Resume.mp3"),this.load.audio("Common:sound:shop","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Shop.mp3"),this.load.audio("Common:sound:equip","SoupTonic UI1 SFX Pack 1 - mp3/SFX_UI_Equip.mp3")}create(){this.sound.setVolume(d.volume_master),d.on(X.VOLUME_MASTER,t=>{this.sound.setVolume(t)}),this.scene.launch(xt.key),this.scene.start(Ct.key)}};It.key="BootScene";let Nt=It;const be={type:z.AUTO,parent:"game-container",width:d.WIDTH,height:d.HEIGHT,transparent:!0,pixelArt:!0,roundPixels:!1,antialias:!1,scale:{mode:z.Scale.FIT,autoCenter:z.Scale.CENTER_BOTH},fullscreenTarget:"game-container",preserveDrawingBuffer:!0,scene:[Nt,Ct,bt,ut,ht,lt,xt]};document.addEventListener("DOMContentLoaded",()=>{new z.Game(be)});
